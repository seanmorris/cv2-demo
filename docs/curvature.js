!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},r={},n={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,a=function(t,e){for(var r,n=[],o=(i.test(e)?t+"/"+e:e).split("/"),a=0,u=o.length;a<u;a++)".."===(r=o[a])?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},u=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e,n){var o,i={id:e,exports:{},hot:v&&v.createHot(e)};return r[e]=i,n(i.exports,(o=e,function(e){var r=a(u(o),e);return t.require(r,o)}),i),i.exports},s=function(t){var e=n[t];return e&&t!==e?s(e):t},l=function(t,n){null==n&&(n="/");var i=s(t);if(o.call(r,i))return r[i].exports;if(o.call(e,i))return c(i,e[i]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};l.alias=function(t,e){n[e]=t};var f=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/;l.register=l.define=function(t,i){if(t&&"object"==typeof t)for(var a in t)o.call(t,a)&&l.register(a,t[a]);else e[t]=i,delete r[t],function(t){if(f.test(t)){var e=t.replace(f,"");o.call(n,e)&&n[e].replace(f,"")!==e+"/index"||(n[e]=t)}if(p.test(t)){var r=t.replace(p,"");o.call(n,r)||(n[r]=t)}}(t)},l.list=function(){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t};var v=t._hmr&&new t._hmr(function(t,e){return s(a(u(t),e))},l,e,r);l._cache=r,l.hmr=v&&v.wrap,l.brunch=!0,t.require=l}}(),function(){"undefined"==typeof window||window;var t=function(t,e,r){var n={},o=function(e,r){try{return t(r+"/node_modules/"+e)}catch(t){if(-1===t.toString().indexOf("Cannot find module"))throw t;if(-1!==r.indexOf("node_modules")){var i=r.split("/"),a=i.lastIndexOf("node_modules"),u=i.slice(0,a).join("/");return o(e,u)}}return n};return function(i){if(i in e&&(i=e[i]),i){if("."!==i[0]&&r){var a=o(i,r);if(a!==n)return a}return t(i)}}};require.register("curvature/animate/Ease.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ease=void 0;var t=r("../base/Mixin"),n=r("../mixin/PromiseMixin");function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t.Mixin["with"](n.PromiseMixin));var r,o,c,s=u(l);function l(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this)).interval=t,e.terminal=!1,e.initial=!1,e.timeout=!1,e.final=!1,e.canceled=!1,e.done=!1,e.calculate=!!(e.calculate||"calculate"in r)&&r.calculate,e.bounded=!("bounded"in r)||r.bounded,e.repeat="repeat"in r?r.repeat:1,e.reverse="reverse"in r&&r.reverse,e}return r=l,(o=[{key:"start",value:function(){var t=this;requestAnimationFrame(function(){t.initial=Date.now(),t.terminal=t.initial+t.interval,t.repeat>=0&&(t.terminal=t.initial+t.interval*t.repeat,t.timeout=setTimeout(function(){if(t.done)return t.final;t.done=!0,t.final=t.reverse?0:1,t[n.PromiseMixin.Accept](t.final)},t.interval*t.repeat))})}},{key:"cancel",value:function(){return this.done?this.final:(clearTimeout(this.timeout),this.final=this.current(),this.canceled=this.done=!0,this[n.PromiseMixin.Reject](this.final),this.final)}},{key:"fraction",value:function(){if(this.done)return this.final;if(!1===this.initial)return this.reverse?1:0;var t=(Date.now()-this.initial)%this.interval/this.interval;return this.initial&&0===t?this.reverse?0:1:this.reverse?1-t:t}},{key:"current",value:function(){var t=this.fraction();return this.calculate?this.calculate(t):t}}])&&i(r.prototype,o),c&&i(r,c),l}();e.Ease=s}()}),require.register("curvature/animate/ease/CubicIn.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CubicIn=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.CubicIn=c}()}),require.register("curvature/animate/ease/CubicInOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CubicInOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.CubicInOut=c}()}),require.register("curvature/animate/ease/CubicOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CubicOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return--t*t*t+1},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.CubicOut=c}()}),require.register("curvature/animate/ease/ElasticOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElasticOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(t){var e,o,i,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e=r.call(this,t,c),o=a(e),u=function(t){return Math.pow(2,-10*t)*Math.sin((t-e.friction/4)*(2*Math.PI)/e.friction)+1},(i="calculate")in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,e.friction=e.friction||"friction"in c?c.friction:.3,e}return n}();e.ElasticOut=c}()}),require.register("curvature/animate/ease/GeoIn.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoIn=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r.call(this,t,e)}return n}();e.GeoIn=u}()}),require.register("curvature/animate/ease/GeoOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(t){var e,o,i,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e=r.call(this,t,c),o=a(e),u=function(t){return 1-Math.abs(t-Math.pow(1,e.power))},(i="calculate")in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,e.power=e.power||"power"in c?c.power:1,e}return n}();e.GeoOut=c}()}),require.register("curvature/animate/ease/Linear.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Linear=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r.apply(this,arguments)}return n}();e.Linear=u}()}),require.register("curvature/animate/ease/QuadIn.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadIn=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.Ease);var r,n,u,c=a(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.apply(this,arguments)}return r=s,(n=[{key:"current",value:function(){var t=this.fraction();return t*t}}])&&o(r.prototype,n),u&&o(r,u),s}();e.QuadIn=c}()}),require.register("curvature/animate/ease/QuadInOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadInOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t<.5?2*t*t:(4-2*t)*t-1},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuadInOut=c}()}),require.register("curvature/animate/ease/QuadOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.Ease);var r,n,u,c=a(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.apply(this,arguments)}return r=s,(n=[{key:"current",value:function(){var t=this.fraction();return t*(2-t)}}])&&o(r.prototype,n),u&&o(r,u),s}();e.QuadOut=c}()}),require.register("curvature/animate/ease/QuartIn.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuartIn=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t*t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuartIn=c}()}),require.register("curvature/animate/ease/QuartInOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuartInOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuartInOut=c}()}),require.register("curvature/animate/ease/QuartOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuartOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return 1- --t*t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuartOut=c}()}),require.register("curvature/animate/ease/QuintIn.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuintIn=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t*t*t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuintIn=c}()}),require.register("curvature/animate/ease/QuintInOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuintInOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuintInOut=c}()}),require.register("curvature/animate/ease/QuintOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuintOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return 1+--t*t*t*t*t},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.QuintOut=c}()}),require.register("curvature/animate/ease/SineIn.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SineIn=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.SineIn=c}()}),require.register("curvature/animate/ease/SineInOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SineInOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.SineInOut=c}()}),require.register("curvature/animate/ease/SineOut.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SineOut=void 0;var t=r("../Ease");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return a(t)}(this,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Ease);var r=i(n);function n(){var t,e,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r.call.apply(r,[this].concat(c)),e=a(t),i=function(t){return Math.sin(Math.PI/2*t)},(o="calculate")in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return n}();e.SineOut=c}()}),require.register("curvature/base/Bag.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bag=void 0;var t=r("./Bindable");function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.meta=Symbol("meta"),this.content=new Map,this.list=t.Bindable.makeBindable({}),this.current=0,this.type=void 0,this.changeCallback=r}var r,o,i;return r=e,(o=[{key:"add",value:function(t){if(void 0===t||!(t instanceof Object))throw new Error("Only objects may be added to Bags.");if(this.type&&!(t instanceof this.type))throw console.error(this.type,t),new Error("Only objects of type ".concat(this.type," may be added to this Bag."));if(!this.content.has(t)){var r,n=(r=this.current++,Number(r).toString(36));this.content.set(t,n),this.list[n]=t,this.changeCallback&&this.changeCallback(t,this.meta,e.ITEM_ADDED,n)}}},{key:"remove",value:function(t){if(void 0===t||!(t instanceof Object))throw new Error("Only objects may be removed from Bags.");if(this.type&&!(t instanceof this.type))throw console.error(this.type,t),new Error("Only objects of type ".concat(this.type," may be removed from this Bag."));if(!this.content.has(t))return this.changeCallback&&this.changeCallback(t,this.meta,0,void 0),!1;var r=this.content.get(t);return delete this.list[r],this.content.delete(t),this.changeCallback&&this.changeCallback(t,this.meta,e.ITEM_REMOVED,r),t}},{key:"items",value:function(){return Array.from(this.content.entries()).map(function(t){return t[0]})}}])&&n(r.prototype,o),i&&n(r,i),e}();e.Bag=o,Object.defineProperty(o,"ITEM_ADDED",{configurable:!1,enumerable:!1,writable:!0,value:1}),Object.defineProperty(o,"ITEM_REMOVED",{configurable:!1,enumerable:!1,writable:!0,value:-1})}()}),require.register("curvature/base/Bindable.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e,r){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&o(i,r.prototype),i}).apply(null,arguments)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Bindable=void 0;var u=Symbol("ref"),c=Symbol("deck"),s=Symbol("binding"),l=Symbol("bindingAll"),f=Symbol("isBindable"),p=Symbol("executing"),v=Symbol("stack"),y=(Symbol("object"),Symbol("wrapped")),d=Symbol("getProto"),h=Symbol("onGet"),b=Symbol("onAllGet"),m=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,o,m;return r=e,m=[{key:"isBindable",value:function(t){return!(!t||!t[s])&&t[s]===e}},{key:"onDeck",value:function(t,e){return t[c][e]||!1}},{key:"ref",value:function(t){return t[u]||!1}},{key:"makeBindable",value:function(t){return this.make(t)}},{key:"make",value:function(r){var o=this;if(!r||!["function","object"].includes(i(r)))return r;var a=window||{};if([a.Node,a.Map,a.Set,a.ResizeObserver,a.MutationObserver,a.PerformanceObserver,a.IntersectionObserver].filter(function(t){return"function"==typeof t}).filter(function(t){return r instanceof t}).length||Object.isSealed(r)||!Object.isExtensible(r))return r;if(r[u])return r;if(r[s])return r;Object.defineProperty(r,u,{configurable:!0,enumerable:!1,writable:!0,value:r}),Object.defineProperty(r,c,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(r,s,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(r,l,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(r,f,{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(r,p,{enumerable:!1,writable:!0}),Object.defineProperty(r,v,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(r,"___before___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(r,"___after___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(r,y,{configurable:!1,enumerable:!1,writable:!1,value:{}});Object.defineProperty(r,"bindTo",{configurable:!1,enumerable:!1,writable:!1,value:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!1;if(Array.isArray(e)){var u=e.map(function(e){return t(e,n,i)});return function(){return u.map(function(t){return t()})}}if(e instanceof Function&&(i=n||{},n=e,a=!0),i.delay>=0&&(n=o.wrapDelayCallback(n,i.delay)),i.throttle>=0&&(n=o.wrapThrottleCallback(n,i.throttle)),i.wait>=0&&(n=o.wrapWaitCallback(n,i.wait)),i.frame&&(n=o.wrapFrameCallback(n,i.frame)),i.idle&&(n=o.wrapIdleCallback(n)),a){var c=r[l].length;for(var f in r[l].push(n),r)n(r[f],f,r,!1);return function(){delete r[l][c]}}r[s][e]||(r[s][e]=[]);var p=r[s][e].length;r[s][e].push(n),n(r[e],e,r,!1);var v=!1,y=function(){v||(v=!0,r[s][e]&&delete r[s][e][p])};return i.removeWith&&i.removeWith instanceof View&&i.removeWith.onRemove(function(){return y}),y}});Object.defineProperty(r,"bindChain",{configurable:!1,enumerable:!1,writable:!1,value:function(t,e){var n=t.split("."),i=n.shift(),a=n.slice(0),u=[];return u.push(r.bindTo(i,function(t,r,n,i){var c=a.join(".");0!==a.length?(void 0===t&&(t=n[r]=o.makeBindable({})),u=u.concat(t.bindChain(c,e))):e(t,r,n,i)})),function(){return u.map(function(t){return t()})}}}),Object.defineProperty(r,"___before",{configurable:!1,enumerable:!1,writable:!1,value:function(t){var e=r.___before___.length;r.___before___.push(t);var n=!1;return function(){n||(n=!0,delete r.___before___[e])}}}),Object.defineProperty(r,"___after",{configurable:!1,enumerable:!1,writable:!1,value:function(t){var e=r.___after___.length;r.___after___.push(t);var n=!1;return function(){n||(n=!0,delete r.___after___[e])}}});for(var m in Object.defineProperty(r,"isBound",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var t in r[l])if(r[l][t])return!0;for(var e in r[s])for(var n in r[s][e])if(r[s][e][n])return!0;return!1}}),r)r[m]&&r[m]instanceof Object&&!r[m]instanceof Node&&!r[m]instanceof Promise&&(r[m]=e.make(r[m]));return Object.defineProperty(r,u,{configurable:!1,enumerable:!1,writable:!0,value:r[u]}),r[u]=new Proxy(r,{get:function(t,o){if(o===u||"isBound"===o||"bindTo"===o||"__proto__"===o)return t[o];var i=Object.getOwnPropertyDescriptor(r,o);return!i||i.configurable||i.writable?r[b]?r[b](o):!r[h]||o in r?t[o]instanceof Function?t[y][o]?e.make(t[y][o]):!i||i.configurable||i.writable?(t[y][o]=function(){t[p]=o,t[v].unshift(o);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];for(var c in t.___before___)t.___before___[c](t,o,t[v],r,i);var s=r instanceof Promise||r instanceof EventTarget||r instanceof MutationObserver||r instanceof IntersectionObserver||r instanceof MutationObserver||r instanceof PerformanceObserver||"function"==typeof ResizeObserver&&r instanceof ResizeObserver||r instanceof Map||r instanceof Set?r:r[u],l=new.target?n(t[o],i):t[o].apply(s||r,i);for(var f in t.___after___)t.___after___[f](t,o,t[v],r,i);return t[p]=null,t[v].shift(),l},t[y][o]):(t[y][o]=t[o],t[y][o]):(t[o]instanceof Object&&!t[o][u]&&e.make(t[o]),t[o]):r[h](o):t[o]},set:function(t,n,i){if(void 0!==r[c][n]&&r[c][n]===i)return!0;if("string"==typeof n&&"___"===n.substring(0,3)&&"___"===n.slice(-3))return!0;if(t[n]===i)return!0;if(i&&i instanceof Object&&!(i instanceof Node)&&i.___isBindable___!==e&&(i=e.makeBindable(i),o.isBindable(i)))for(var a in i)i[a]&&i[a]instanceof Object&&(i[a]=e.makeBindable(i[a]));for(var u in r[c][n]=i,r[l])r[l][u]&&r[l][u](i,n,t,!1);var f=!1;if(n in r[s])for(var p in r[s][n])r[s][n]&&r[s][n][p]&&!1===r[s][n][p](i,n,t,!1,t[n])&&(f=!0);if(delete r[c][n],!f){var v=Object.getOwnPropertyDescriptor(t,n);t instanceof File&&"lastModifiedDate"==n||v&&!v.writable||t[n]!==i||(t[n]=i)}return Reflect.set(t,n,i)},construct:function(r,o){var i="constructor";for(var a in r.___before___)r.___before___[a](r,i,r[v],void 0,o);var u=e.make(n(r,t(o)));for(var c in r.___after___)r.___after___[c](r,i,r[v],u,o);return u},getPrototypeOf:function(t){return d in r?r[d]:Reflect.getPrototypeOf(t)},deleteProperty:function(t,e){if(!(e in t))return!0;for(var n in r[l])r[l][n](void 0,e,t,!0,t[e]);if(e in r[s])for(var o in r[s][e])r[s][e][o]&&r[s][e][o](void 0,e,t,!0,t[e]);return delete t[e],!0}}),r[u]}},{key:"clearBindings",value:function(t){var e;(e=function(t){return Object.keys(t).map(function(e){return delete t[e]})},function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map(e)})(t[y],t[s],t[l],t.___after___,t.___before___)}},{key:"resolve",value:function(t,e){for(var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.split("."),i=o[0];o.length;){if(n&&1===o.length)return[this.makeBindable(t),o.shift(),i];!(!(r=o.shift())in t)&&t[r]&&t[r]instanceof Object||(t[r]={}),t=this.makeBindable(t[r])}return[this.makeBindable(t),r,i]}},{key:"wrapDelayCallback",value:function(t,e){return function(r,n,o,i){return setTimeout(function(){return t(r,n,o,i,o[n])},e)}}},{key:"wrapThrottleCallback",value:function(t,e){return function(t){var e=!1;return function(r,n,o,i){e||(t(r,n,o,i,o[n]),e=!0,setTimeout(function(){e=!1},e))}}(t)}},{key:"wrapWaitCallback",value:function(t,e){var r=!1;return function(n,o,i,a){r&&(clearTimeout(r),r=!1),r=setTimeout(function(){return t(n,o,i,a,i[o])},e)}}},{key:"wrapFrameCallback",value:function(t,e){return function(e,r,n,o,i){requestAnimationFrame(function(){return t(e,r,n,o,i)})}}},{key:"wrapIdleCallback",value:function(t){return function(e,r,n,o,i){(window.requestIdleCallback||requestAnimationFrame)(function(){return t(e,r,n,o,i)})}}}],(o=null)&&a(r.prototype,o),m&&a(r,m),e}();e.Bindable=m,Object.defineProperty(m,"OnGet",{configurable:!1,enumerable:!1,writable:!1,value:h}),Object.defineProperty(m,"GetProto",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.defineProperty(m,"OnAllGet",{configurable:!1,enumerable:!1,writable:!1,value:b})}()}),require.register("curvature/base/Cache.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;var r=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n,o;return r=e,o=[{key:"store",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"standard",o=0;r&&(o=1e3*r+(new Date).getTime()),this.bucket||(this.bucket={}),this.bucket[n]||(this.bucket[n]={}),this.bucket[n][t]={expiration:o,value:e}}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";return this.bucket&&this.bucket[r]&&this.bucket[r][t]&&(0==this.bucket[r][t].expiration||this.bucket[r][t].expiration>(new Date).getTime())?this.bucket[r][t].value:e}}],(n=null)&&t(r.prototype,n),o&&t(r,o),e}();e.Cache=r}()}),require.register("curvature/base/Config.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var n={};try{Object.assign(n,r("/Config").Config||{})}catch(t){!0===window.devMode&&console.error(t)}var o=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n,o;return r=e,o=[{key:"get",value:function(t){return this.configs[t]}},{key:"set",value:function(t,e){return this.configs[t]=e,this}},{key:"dump",value:function(){return this.configs}},{key:"init",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n in e){var o=e[n];for(var i in"string"==typeof o&&(o=JSON.parse(o)),o){var a=o[i];return this.configs[i]=a}}return this}}],(n=null)&&t(r.prototype,n),o&&t(r,o),e}();e.Config=o,Object.defineProperty(o,"configs",{configurable:!1,enumerable:!1,writable:!1,value:n})}()}),require.register("curvature/base/Cookie.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cookie=void 0;var t=r("./Bindable");function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,n=[{key:"set",value:function(e,r){t.jar[e]=r}},{key:"get",value:function(e){return t.jar[e]}},{key:"delete",value:function(e){delete t.jar[e]}}],(r=null)&&i(e.prototype,r),n&&i(e,n),t}();e.Cookie=a,a.jar=a.jar||t.Bindable.make({}),document.cookie&&"data"!==window.location.href.substr(0,4)&&(document.cookie.split(";").map(function(t){var e=n(t.split("="),2),r=e[0],o=e[1];try{o=JSON.parse(o)}catch(t){o=o}r=r.trim(),a.jar[decodeURIComponent(r)]=o}),a.jar.bindTo(function(t,e,r,n){document.cookie=n?"".concat(encodeURIComponent(e),"=;expires=").concat(new Date(0)):"".concat(encodeURIComponent(e),"=").concat(t)}))}()}),require.register("curvature/base/Dom.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Dom=void 0;var r=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n,o;return r=e,o=[{key:"mapTags",value:function(t,e,r,n,o){var i=[],a=!0;n&&(a=!1);var u=!1,c=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(t,r){if(!a){if(t!==n)return NodeFilter.FILTER_SKIP;a=!0}return o&&t===o&&(u=!0),u?NodeFilter.FILTER_SKIP:e?t instanceof Element&&t.matches(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);for(0;c.nextNode();)i.push(r(c.currentNode,c));return i}},{key:"dispatchEvent",value:function(t,r){t.dispatchEvent(r),e.mapTags(t,!1,function(t){t.dispatchEvent(r)})}}],(n=null)&&t(r.prototype,n),o&&t(r,o),e}();e.Dom=r}()}),require.register("curvature/base/Import.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Import=void 0;var r=function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),console.log(this.__proto__.constructor),this.__proto__.constructor.instances[t])return this.__proto__.constructor.instances[t];this.uri=t;var r=document.createElement("script");r.setAttribute("src",this.uri),this.ready=new Promise(function(t,e){r.addEventListener("load",function(e){return t(r)}),r.addEventListener("error",function(t){console.error(t),e(t)})}),this.tag=r,this.attached=!1,this.__proto__.constructor.instances[t]=this}var r,n,o;return r=e,(n=[{key:"attach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.attached||((t=t||document.head).append(this.tag),this.attached=!0)}}])&&t(r.prototype,n),o&&t(r,o),e}();e.Import=r,r.instances={}}()}),require.register("curvature/base/Mixin.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mixin=void 0;var t=r("./Bindable");function n(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=a(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return l(t)}(this,r)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=Symbol("constructor"),d=(Symbol("mixinList"),function(){function e(){p(this,e)}var r,a,u;return r=e,u=[{key:"from",value:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(u,t);var a=s(u);function u(){var t;p(this,u);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];t=a.call.apply(a,[this].concat(c));var f,v=i(n);try{for(v.s();!(f=v.n()).done;){var y=f.value;switch(y[e.Constructor]&&y[e.Constructor].apply(l(t)),o(y)){case"object":e.mixObject(y,l(t))}}}catch(t){v.e(t)}finally{v.f()}return t}return u}()}},{key:"with",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.from.apply(this,[Object].concat(e))}},{key:"mixObject",value:function(t,e){var r,n=i(Object.getOwnPropertyNames(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;"function"!=typeof t[o]?e[o]=t[o]:e[o]=t[o].bind(e)}}catch(t){n.e(t)}finally{n.f()}var a,u=i(Object.getOwnPropertySymbols(t));try{for(u.s();!(a=u.n()).done;){var c=a.value;"function"!=typeof t[c]?e[c]=t[c]:e[c]=t[c].bind(e)}}catch(t){u.e(t)}finally{u.f()}}},{key:"mixClass",value:function(t,e){var r,n=i(Object.getOwnPropertyNames(t.prototype));try{for(n.s();!(r=n.n()).done;){var o=r.value;e.prototype[o]=t.prototype[o].bind(e.prototype)}}catch(t){n.e(t)}finally{n.f()}var a,u=i(Object.getOwnPropertySymbols(t.prototype));try{for(u.s();!(a=u.n()).done;){var c=a.value;e.prototype[c]=t.prototype[c].bind(e.prototype)}}catch(t){u.e(t)}finally{u.f()}var s,l=i(Object.getOwnPropertyNames(t));try{var f=function(){var r=s.value;if("function"!=typeof t[r])return"continue";var n=e[r]||!1,o=t[r].bind(e);e[r]=function(){return n&&n.apply(void 0,arguments),o.apply(void 0,arguments)}};for(l.s();!(s=l.n()).done;)f()}catch(t){l.e(t)}finally{l.f()}var p,v=i(Object.getOwnPropertySymbols(t));try{var y=function(){var r=p.value;if("function"!=typeof t[r])return"continue";var n=e[r]||!1,o=t[r].bind(e);e[r]=function(){return n&&n.apply(void 0,arguments),o.apply(void 0,arguments)}};for(v.s();!(p=v.n()).done;)y()}catch(t){v.e(t)}finally{v.f()}}},{key:"mix",value:function(e){for(var r={},o={},a=t.Bindable.makeBindable(e),u=function(t){var e,u=Object.getOwnPropertyNames(t.prototype),c=/^(before|after)__(.+)/,s=i(Object.getOwnPropertyNames(t));try{var l=function(){var o=e.value,i=o.match(c);if(i){switch(i[1]){case"before":a.___before(function(e,r,a,u,c){if(r===i[2])return t[o].bind(u).apply(void 0,n(c))});break;case"after":a.___after(function(e,r,a,u,c){if(r===i[2])return t[o].bind(u).apply(void 0,n(c))})}return"continue"}return r[o]?"continue":"function"!=typeof t[o]?"continue":void(r[o]=t[o])};for(s.s();!(e=s.n()).done;)l()}catch(t){s.e(t)}finally{s.f()}var f,p=i(u);try{var v=function(){var e=f.value,r=e.match(c);if(r){switch(r[1]){case"before":a.___before(function(o,i,a,u,c){if(i===r[2])return t.prototype[e].bind(u).apply(void 0,n(c))});break;case"after":a.___after(function(o,i,a,u,c){if(i===r[2])return t.prototype[e].bind(u).apply(void 0,n(c))})}return"continue"}return o[e]?"continue":"function"!=typeof t.prototype[e]?"continue":void(o[e]=t.prototype[e])};for(p.s();!(f=p.n()).done;)v()}catch(t){p.e(t)}finally{p.f()}},c=this;c&&c.prototype;c=Object.getPrototypeOf(c))u(c);for(var s in r)e[s]=r[s].bind(e);var l=function(t){e.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return o[t].apply(this,r)}};for(var f in o)l(f);return a}}],(a=null)&&v(r.prototype,a),u&&v(r,u),e}());e.Mixin=d,d.Constructor=y}()}),require.register("curvature/base/Model.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var t=r("./Cache"),n=r("./Bindable");r("./Repository");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.repository=t}var r,i,a;return r=e,(i=[{key:"consume",value:function(r){for(var o in r){var i=r[o];if(r[o]instanceof Object&&r[o].class&&r[o].publicId){var a="".concat(r[o].class,"::").concat(r[o].publidId),u=t.Cache.load(a,!1,"model-type-repo");i=n.Bindable.makeBindable(new e(this.repository)),u&&(i=u),i.consume(r[o]),t.Cache.store(a,i,0,"model-type-repo")}this[o]=i}}}])&&o(r.prototype,i),a&&o(r,a),e}();e.Model=i}()}),require.register("curvature/base/Repository.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Repository=void 0;var t=r("./Bindable"),n=r("./Router"),o=r("./Cache"),i=r("./Model"),a=r("./Bag"),u=r("../form/Form"),c=r("../form/multiField/FormWrapper");function s(t){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.uri=t}var r,f,p;return r=e,p=[{key:"loadPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(this.uri,t).then(function(t){return t})}},{key:"domCache",value:function(t,e){}},{key:"load",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.objects=this.objects||{},this.objects[this.uri]=this.objects[this.uri]||{},this.objects[this.uri][t]?Promise.resolve(this.objects[this.uri][t]):this.request(this.uri+"/"+t).then(function(t){})}},{key:"form",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.uri+"/create";return t&&(e=this.uri+"/"+t+"/edit"),this.request(e).then(function(t){return t})}},{key:"clearCache",value:function(){this.objects&&this.objects[this.uri]&&(this.objects[this.uri]={})}},{key:"encode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var n in r||(r=new FormData),t){var o=n;e&&(o="".concat(e,"[").concat(o,"]")),t[n]&&"object"!==s(t[n])?r.append(o,t[n]):this.encode(t[n],o,r)}return r}},{key:"onResponse",value:function(t){return this._onResponse||(this._onResponse=new a.Bag),this._onResponse.add(t)}},{key:"request",value:function(t){var e,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c="GET",s=null,l={};n&&(l=n),this._onResponse||(this._onResponse=new a.Bag),this.runningRequests||(this.runningRequests={}),l.api=l.api||"json",e=Object.keys(l).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(l[t])}).join("&");var f;if(f=t+"?"+e,!o&&this.runningRequests[f])return this.runningRequests[f];o&&(i=!1,c="POST",s=o instanceof FormData?o:this.encode(o));var p=new XMLHttpRequest;if("responseType"in u&&(p.responseType=u.responseType),!o&&i&&this.cache&&this.cache[f])return Promise.resolve(this.cache[f]);var v='script[data-uri="'+f+'"]',y=document.querySelector(v);if(!o&&i&&y){var d=JSON.parse(y.innerText);return Promise.resolve(d)}p.withCredentials=!("withCredentials"in u)||u.withCredentials,document.createElement("a").href=f,o||(p.timeout=u.timeout||15e3,this.xhrs[f]=p);var h=new Promise(function(t,e){if(o&&"progressUp"in u&&(p.upload.onprogress=u.progressUp),"progressDown"in u&&(p.onprogress=u.progressDown),p.onreadystatechange=function(){var n;if(4===p.readyState)if(delete r.xhrs[f],delete r.runningRequests[f],r.cache||(r.cache={}),"application/json"==p.getResponseHeader("Content-Type")||"application/json; charset=utf-8"==p.getResponseHeader("Content-Type")||"text/json"==p.getResponseHeader("Content-Type")||"text/json; charset=utf-8"==p.getResponseHeader("Content-Type"))if((n=JSON.parse(p.responseText))&&0==n.code){var o=document.querySelector('script[data-uri="'+f+'"]');(window.prerenderer||navigator.userAgent.match(/prerender/i))&&(window.prerenderer=window.prerenderer||!0,o||((o=document.createElement("script")).type="text/json",o.setAttribute("data-hack","application/ld+json-NOT!"),o.setAttribute("data-uri",f),document.head.appendChild(o)),o.innerText=JSON.stringify(n));var i=r._onResponse.items();for(var a in i)i[a](n,!0);n._http=p.status,200===p.status?t(n):e(n)}else{var u=r._onResponse.items();for(var c in u)u[c](n,!0);e(n)}else{var s=r._onResponse.items();for(var l in s)s[l](p,!0);200===p.status?t(p):e(p)}},p.open(c,f,!0),u.headers)for(var n in u.headers)p.setRequestHeader(n,u.headers[n]);p.send(s)});return o||(this.runningRequests[f]=h),h}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^.$/;for(var e in this.xhrs)this.xhrs[e]&&e.match(t)&&(this.xhrs[e].abort(),delete this.xhrs[e])}}],(f=[{key:"get",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=this.uri+"/"+t,c=o.Cache.load(u+n.Router.queryToString(n.Router.queryOver(a),!0),!1,"model-uri-repo");return!i&&c?Promise.resolve(c):e.request(u,a).then(function(t){return r.extractModel(t.body)})}},{key:"page",value:function(){var t=this,r=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1?arguments[1]:void 0);return e.request(this.uri,r).then(function(e){var r=[];for(var n in e.body){var o=e.body[n];r.push(t.extractModel(o))}return e.body=r,e})}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.uri+"/create";return t&&(o=this.uri+"/"+t+"/edit"),r?e.request(o,{api:"json"},r).then(function(t){return t.body}):e.request(o).then(function(t){var e=new u.Form(t.meta.form,n);return new c.FormWrapper(e,o,"POST",n)})}},{key:"extractModel",value:function(e){var r=t.Bindable.makeBindable(new i.Model(this));r.consume(e);this.uri,r.publicId;if(r.class){var n="".concat(r.class,"::").concat(r.publidId);o.Cache.load(n,!1,"model-type-repo")}return r}}])&&l(r.prototype,f),p&&l(r,p),e}();e.Repository=f,f.xhrs=[]}()}),require.register("curvature/base/Router.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;var t=r("./View"),n=(r("./Cache"),r("./Config")),o=r("./Routes");function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,a,c;return r=e,c=[{key:"wait",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOMContentLoaded";(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).addEventListener(r,function(){e.listen(t)})}},{key:"listen",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.routes=r;var n=location.pathname+location.search;location.hash&&(n+=location.hash),Object.assign(this.query,this.queryOver({}));var o=function(r){for(var n in r.preventDefault(),r.state&&"routedId"in r.state?r.state.routedId<=e.routeCount?(e.history.splice(r.state.routedId),e.routeCount=r.state.routedId):r.state.routedId>e.routeCount&&(e.history.push(r.state.prev),e.routeCount=r.state.routedId):null!==e.prevPath&&e.prevPath!==location.pathname&&e.history.push(e.prevPath),e.match(location.pathname,t),e.query)delete e.query[n];Object.assign(e.query,e.queryOver({}))};window.addEventListener("popstate",o),window.addEventListener("cvUrlChanged",o),this.go(n)}},{key:"go",value:function(t,e){var r=n.Config.get("title");for(var o in r&&(document.title=r),2===e&&location.pathname!==t?history.replaceState({routedId:this.routeCount,prev:this.prevPath,url:location.pathname},null,t):location.pathname!==t&&history.pushState({routedId:++this.routeCount,prev:this.prevPath,url:location.pathname},null,t),e||(!1===e&&(this.path=null),"#"===t.substring(0,1)?window.dispatchEvent(new HashChangeEvent("hashchange")):window.dispatchEvent(new CustomEvent("cvUrlChanged"))),this.query)delete this.query[o];Object.assign(this.query,this.queryOver({})),this.prevPath=t}},{key:"match",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.path!==t||n){this.queryString=location.search,this.path=t;var i=this.prevPath,a=e.args.content,u=this.routes||e.routes||o.Routes.dump();new URLSearchParams(location.search);for(var c in this.query)delete this.query[c];Object.assign(this.query,this.queryOver({}));var s={},l=!1,f="";for(var p in t=t.substr(1).split("/"),this.query)s[p]=this.query[p];t:for(var v in u){var y=v.split("/");if(!(y.length<t.length&&"*"!==y[y.length-1])){for(var d in y)if("%"==y[d].substr(0,1)){var h=null,b=/^%(\w+)\??/.exec(y[d]);if(b&&b[1]&&(h=b[1]),!h)throw new Error("".concat(y[d],' is not a valid argument segment in route "').concat(v,'"'));if(t[d])s[h]=t[d];else{if("?"!=y[d].substr(y[d].length-1,1))continue t;s[h]=""}}else if("*"!==y[d]&&t[d]!==y[d])continue t;l=v,f=u[v],"*"===y[y.length-1]&&(s.pathparts=t.slice(y.length-1));break}}if(!n&&e&&a&&f instanceof Object&&a instanceof f&&!(f instanceof Promise)&&a.update(s))return e.args.content=a,!0;var m=new CustomEvent("cvRouteStart",{cancelable:!0,detail:{path:t,prev:i,root:e,selected:l,routes:u}});if(document.dispatchEvent(m)){if(l in u&&u[l]instanceof Object&&u[l].isView&&u[l].isView())f=new u[l](s),e&&(f.root=function(){return e});else if(u[l]instanceof Function){f="",f=u[l](s)}else u[l]instanceof Object?f=new u[l](s):"string"==typeof u[l]&&(f=u[l]);return f instanceof Promise||(f=Promise.resolve(f)),f.then(function(o){return r.update(e,t,o,u,l,s,n)}).catch(function(o){console.error(o),r.update(e,t,o,u,l,s,n)})}}}},{key:"update",value:function(e,r,n,o,i,a,u){if(e){var c=this.prevPath,s=new CustomEvent("cvRoute",{cancelable:!0,detail:{result:n,path:r,prev:c,view:e,routes:o,selected:i}});!1!==n&&(e.args.content instanceof t.View&&(e.args.content.pause(!0),e.args.content.remove()),document.dispatchEvent(s)&&(e.args.content=n),n instanceof t.View&&(n.pause(!1),n.update(a,u)));var l=new CustomEvent("cvRouteEnd",{cancelable:!0,detail:{result:n,path:r,prev:c,view:e,routes:o,selected:i}});document.dispatchEvent(l)}}},{key:"queryOver",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={},n={},o=i(new URLSearchParams(location.search));try{for(o.s();!(t=o.n()).done;){var a=t.value;n[a[0]]=a[1]}}catch(t){o.e(t)}finally{o.f()}return delete(r=Object.assign(r,n,e)).api,r}},{key:"queryToString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],n=t;for(var o in e||(n=this.queryOver(t)),n)""!==n[o]&&r.push(o+"="+encodeURIComponent(n[o]));return r.join("&")}},{key:"setQuery",value:function(t,e,r){var n=this.queryOver();n[t]=e,void 0===e&&delete n[t];var o=this.queryToString(n,!0);this.go(location.pathname+(o?"?"+o:""),r)}}],(a=null)&&u(r.prototype,a),c&&u(r,c),e}();e.Router=c,Object.defineProperty(c,"query",{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(c,"history",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(c,"routeCount",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(c,"prevPath",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(c,"queryString",{configurable:!1,enumerable:!1,writable:!0,value:null})}()}),require.register("curvature/base/Routes.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Routes=void 0;var n={};try{Object.assign(n,r("Routes").Routes||{})}catch(t){!0===window.devMode&&console.warn(t)}var o=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n,o;return r=e,o=[{key:"get",value:function(t){return this.routes[t]}},{key:"dump",value:function(){return this.routes}}],(n=null)&&t(r.prototype,n),o&&t(r,o),e}();e.Routes=o,Object.defineProperty(o,"routes",{configurable:!1,enumerable:!1,writable:!1,value:n})}()}),require.register("curvature/base/RuleSet.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RuleSet=void 0;r("./Dom");var t=r("./Tag"),n=r("./View");function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,i,u;return r=e,u=[{key:"add",value:function(t,e){return this.globalRules=this.globalRules||{},this.globalRules[t]=this.globalRules[t]||[],this.globalRules[t].push(e),this}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var r in this.globalRules)for(var n in this.globalRules[r]){var i,a=this.globalRules[r][n],u=this.wrap(t,a,e),c=o(t.querySelectorAll(r));try{for(c.s();!(i=c.n()).done;){u(i.value)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"wait",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DOMContentLoaded",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=function(e,r){return function(){return r.removeEventListener(e,n),t.apply()}}(e,r);r.addEventListener(e,n)}},{key:"wrap",value:function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(r instanceof n.View||r&&r.prototype&&r.prototype instanceof n.View)&&(r=function(t){return function(){return t}}(r)),function(e){for(var i in void 0===e.___cvApplied___&&Object.defineProperty(e,"___cvApplied___",{enumerable:!1,writable:!1,value:[]}),e.___cvApplied___)if(r==e.___cvApplied___[i])return;var a,u;o&&(a=u=o,o.viewList&&(u=o.viewList.parent));var c,s=new t.Tag(e,u,null,void 0,a),l=s.element.parentNode,f=s.element.nextSibling,p=r(s);if(!1!==p&&e.___cvApplied___.push(r),p instanceof HTMLElement&&(p=new t.Tag(p)),p instanceof t.Tag){if(!p.element.contains(s.element)){for(;s.element.firstChild;)p.element.appendChild(s.element.firstChild);s.remove()}f?l.insertBefore(p.element,f):l.appendChild(p.element)}p&&p.prototype&&p.prototype instanceof n.View&&(p=new p({},o)),p instanceof n.View&&(o&&(o.cleanup.push((c=p,function(){c.remove()})),o.cleanup.push(o.args.bindTo(function(t,e,r){r[e]=t,p.args[e]=t})),o.cleanup.push(p.args.bindTo(function(t,e,r,n){r[e]=t,o.args[e]=t}))),s.clear(),p.render(s.element))}}}],(i=[{key:"add",value:function(t,e){return this.rules=this.rules||{},this.rules[t]=this.rules[t]||[],this.rules[t].push(e),this}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var n in e.apply(t,r),this.rules)for(var i in this.rules[n]){var a,u=this.rules[n][i],c=e.wrap(t,u,r),s=o(t.querySelectorAll(n));try{for(s.s();!(a=s.n()).done;){c(a.value)}}catch(t){s.e(t)}finally{s.f()}}}}])&&a(r.prototype,i),u&&a(r,u),e}();e.RuleSet=u}()}),require.register("curvature/base/Tag.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var t=r("./Bindable");function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function e(r,n,o,i,a){var u,c=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof r){var s=document.createRange().createContextualFragment(r);r=s.firstChild}return this.element=t.Bindable.makeBindable(r),this.node=this.element,this.parent=n,this.direct=a,this.ref=o,this.index=i,this.cleanup=[],this[t.Bindable.OnAllGet]=function(t){return"function"==typeof c[t]?c[t]:"function"==typeof c.element[t]?function(){var e;return(e=c.element)[t].apply(e,arguments)}:t in c.element?c.element[t]:c[t]},this.style=(u=this,t.Bindable.make(function(t){if(u.node){var e=new CustomEvent("cvStyle",{detail:{styles:t}});if(u.node.dispatchEvent(e))for(var r in t)"-"===r[0]&&u.node.style.setProperty(r,t[r]),u.node.style[r]=t[r]}})),this.proxy=t.Bindable.make(this),this.proxy.style.bindTo(function(t,e){c.element.style[e]=t}),this.proxy.bindTo(function(t,e){return e in r&&(r[e]=t),!1}),this.proxy}var r,o,i;return r=e,(o=[{key:"remove",value:function(){var e;for(this.node.remove(),t.Bindable.clearBindings(this);e=this.cleanup.shift();)e();if(this.clear(),this.node){new Event("cvDomDetached");this.node=this.element=this.ref=this.parent=null}}},{key:"clear",value:function(){if(this.node)for(var t=new Event("cvDomDetached");this.node.firstChild;)this.node.firstChild.dispatchEvent(t),this.node.removeChild(this.node.firstChild)}},{key:"pause",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}])&&n(r.prototype,o),i&&n(r,i),e}();e.Tag=o}()}),require.register("curvature/base/View.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var t=r("./Bindable"),n=r("./ViewList"),o=r("./Router"),a=r("./Dom"),u=r("./Tag"),c=r("./Bag"),s=r("./RuleSet");function l(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function v(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}var b=Symbol("dontParse"),m=Symbol("expandBind"),g=function(){function e(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"args",{value:t.Bindable.make(n)}),Object.defineProperty(this,"attach",{value:new c.Bag(function(t,e,r){})}),Object.defineProperty(this,"detach",{value:new c.Bag(function(t,e,r){})}),Object.defineProperty(this,"cleanup",{value:[]}),Object.defineProperty(this,"_onRemove",{value:new c.Bag(function(t,e,r){})}),Object.defineProperty(this,"parent",{value:o}),Object.defineProperty(this,"views",{value:new Map}),Object.defineProperty(this,"viewLists",{value:new Map}),Object.defineProperty(this,"withViews",{value:new Map}),Object.defineProperty(this,"tags",{value:t.Bindable.make({})}),Object.defineProperty(this,"intervals",{value:[]}),Object.defineProperty(this,"timeouts",{value:[]}),Object.defineProperty(this,"frames",{value:[]}),Object.defineProperty(this,"ruleSet",{value:new s.RuleSet}),Object.defineProperty(this,"preRuleSet",{value:new s.RuleSet}),Object.defineProperty(this,"subBindings",{value:{}}),Object.defineProperty(this,"subTemplates",{value:{}}),Object.defineProperty(this,"eventCleanup",{value:[]}),Object.defineProperty(this,"interpolateRegex",{value:/(\[\[((?:\$+)?[\w\.\|-]+)\]\])/g}),Object.defineProperty(this,"rendered",{value:new Promise(function(t,e){return Object.defineProperty(r,"renderComplete",{value:t})})}),n._id&&Object.defineProperty(this.args,"_id",{get:function(){return r._id}}),this.template="",this.document="",this.nodes=null,this.firstNode=null,this.lastNode=null,this.viewList=null,this.mainView=null,this.preserve=!1,this.removed=!1,t.Bindable.make(this)}return h(e,[{key:"_id",get:function(){return this.__id||Object.defineProperty(this,"__id",{configurable:!1,writable:!1,value:this.uuid()}),this.__id}}],[{key:"from",value:function(t){var e=new this(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return e.template=t,e}}]),h(e,[{key:"onFrame",value:function(t){var e=this,r=!1,n=function(){r=!0};return requestAnimationFrame(function(){return function n(o){e.removed||r||(e.paused||t(Date.now()),requestAnimationFrame(n))}(Date.now())}),this.frames.push(n),n}},{key:"onNextFrame",value:function(t){return requestAnimationFrame(function(){return t(Date.now())})}},{key:"onIdle",value:function(t){return requestIdleCallback(function(){return t(Date.now())})}},{key:"onTimeout",value:function(t,e){var r=this,n=function(){r.timeouts[i].fired=!0,r.timeouts[i].callback=null,e()},o=setTimeout(n,t),i=this.timeouts.length;return this.timeouts.push({timeout:o,callback:n,time:t,fired:!1,created:(new Date).getTime(),paused:!1}),o}},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){for(var e in this.timeouts)t===this.timeouts[e].timeout&&(clearTimeout(this.timeouts[e].timeout),delete this.timeouts[e])})},{key:"onInterval",value:function(t,e){var r=setInterval(e,t);return this.intervals.push({timeout:r,callback:e,time:t,paused:!1}),r}},{key:"clearInterval",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){for(var e in this.intervals)t===this.intervals[e].timeout&&(clearInterval(this.intervals[e].timeout),delete this.intervals[e])})},{key:"pause",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===t&&(this.paused=!this.paused),this.paused=t,this.paused){for(var e in this.timeouts)this.timeouts[e].fired?delete this.timeouts[e]:clearTimeout(this.timeouts[e].timeout);for(var r in this.intervals)clearInterval(this.intervals[r].timeout)}else{for(var n in this.timeouts)this.timeouts[n].timeout.paused&&(this.timeouts[n].fired?delete this.timeouts[n]:this.timeouts[n].timeout=setTimeout(this.timeouts[n].callback,this.timeouts[n].time));for(var o in this.intervals)this.intervals[o].timeout.paused&&(this.intervals[o].timeout.paused=!1,this.intervals[o].timeout=setInterval(this.intervals[o].callback,this.intervals[o].time))}var i,a=p(this.viewLists);try{for(a.s();!(i=a.n()).done;){var u=f(i.value,2);u[0];u[1].pause(!!t)}}catch(t){a.e(t)}finally{a.f()}for(var c in this.tags)if(Array.isArray(this.tags[c]))for(var s in this.tags[c])this.tags[c][s].pause(!!t);else this.tags[c].pause(!!t)}},{key:"render",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r instanceof e&&(r=r.firstNode.parentNode),n instanceof e&&(n=n.firstNode),this.firstNode)return this.reRender(r,n);var o=this.template instanceof DocumentFragment?this.template.cloneNode(!0):e.templates.has(this.template),i=o?this.template instanceof DocumentFragment?o:e.templates.get(this.template).cloneNode(!0):document.createRange().createContextualFragment(this.template);if(o||this.template instanceof DocumentFragment||e.templates.set(this.template,i.cloneNode(!0)),this.mainView||this.preRuleSet.apply(i,this),this.mapTags(i),this.mainView||this.ruleSet.apply(i,this),this.nodes=[],!0===window.devMode?(this.firstNode=document.createComment("Template ".concat(this._id," Start")),this.lastNode=document.createComment("Template ".concat(this._id," End"))):(this.firstNode=document.createTextNode(""),this.lastNode=document.createTextNode("")),(t=this.nodes).push.apply(t,[this.firstNode].concat(l(Array.from(i.childNodes)),[this.lastNode])),r){var u=r.getRootNode(),c=!1;if(u.isConnected&&(c=!0,"external"),n?(r.insertBefore(this.firstNode,n),r.insertBefore(this.lastNode,n)):(r.appendChild(this.firstNode),r.appendChild(this.lastNode)),r.insertBefore(i,this.lastNode),0,c){this.attached(u,r);var s=this.attach.items();for(var f in s)s[f](u,r);this.nodes.filter(function(t){return t.nodeType!==Node.COMMENT_NODE}).map(function(t){t.matches&&(a.Dom.mapTags(t,!1,function(e,r){e.matches&&e.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:t}))}),t.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:t})))})}}return this.renderComplete(this.nodes),this.postRender(r),this.nodes}},{key:"reRender",value:function(t,e){var r=new DocumentFragment;if(this.firstNode.isConnected){var n=this.detach.items();for(var o in n)n[o]()}if(r.append.apply(r,l(this.nodes)),t){e?(t.insertBefore(this.firstNode,e),t.insertBefore(this.lastNode,e)):(t.appendChild(this.firstNode),t.appendChild(this.lastNode)),t.insertBefore(r,this.lastNode);var i=t.getRootNode();if(i.isConnected){this.nodes.filter(function(t){return t.nodeType===Node.ELEMENT_NODE}).map(function(t){t.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:t})),a.Dom.mapTags(t,!1,function(e,r){t.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:t}))})});var u=this.attach.items();for(var c in u)u[c](i,t)}}return this.nodes}},{key:"mapTags",value:function(t){var e=this;a.Dom.mapTags(t,!1,function(t,r){t[b]||(t=t.matches?(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=e.mapInterpolatableTag(t)).matches("[cv-template]")&&e.mapTemplateTag(t)||t).matches("[cv-slot]")&&e.mapSlotTag(t)||t).matches("[cv-prerender]")&&e.mapPrendererTag(t)||t).matches("[cv-link]")&&e.mapLinkTag(t)||t).matches("[cv-attr]")&&e.mapAttrTag(t)||t).matches("[cv-expand]")&&e.mapExpandableTag(t)||t).matches("[cv-ref]")&&e.mapRefTag(t)||t).matches("[cv-on]")&&e.mapOnTag(t)||t).matches("[cv-each]")&&e.mapEachTag(t)||t).matches("[cv-bind]")&&e.mapBindTag(t)||t).matches("[cv-with]")&&e.mapWithTag(t)||t).matches("[cv-if]")&&e.mapIfTag(t)||t).matches("[cv-view]")&&e.mapViewTag(t)||t:e.mapInterpolatableTag(t))!==r.currentNode&&(r.currentNode=t)})}},{key:"mapExpandableTag",value:function(e){var r=e[m];r&&(r(),e[m]=!1);var n=f(t.Bindable.resolve(this.args,e.getAttribute("cv-expand"),!0),2),o=n[0],i=n[1];return e.removeAttribute("cv-expand"),o[i]||(o[i]={}),this.onRemove(e[m]=o[i].bindTo(function(t,r,n,o,i){o||void 0===t?e.removeAttribute(r,t):null!==t?e.setAttribute(r,t):e.setAttribute(r,"")})),e}},{key:"compileExpandableTag",value:function(e){return function(r){var n=e.cloneNode(!0),o=n.getAttribute("cv-expand"),i=t.Bindable.make(r.args[o]||{});n.removeAttribute("cv-expand");var a=function(e){if("name"===e||"type"===e)return"continue";var o=i.bindTo(e,function(t,e){return function(r){t.setAttribute(e,r)}}(n,e));r.onRemove(function(){o(),i.isBound()&&t.Bindable.clearBindings(i)})};for(var u in i)a(u);return n}}},{key:"mapAttrTag",value:function(t){var e=this.compileAttrTag(t)(this);return t.replaceWith(e),e}},{key:"compileAttrTag",value:function(e){var r=e.getAttribute("cv-attr").split(",").map(function(t){return t.split(":")});return e.removeAttribute("cv-attr"),function(n){var o=e.cloneNode(!0),i=function(e){var i=r[e][1]||r[e][0],a=f(t.Bindable.resolve(n.args,i,!0),2),u=a[0],c=a[1],s=r[e][0];n.onRemove(u.bindTo(c,function(t,e,r,n){n||void 0===t?o.removeAttribute(s,t):null!==t?o.setAttribute(s,t):o.setAttribute(s,"")}))};for(var a in r)i(a);return o}}},{key:"mapInterpolatableTag",value:function(r){var n=this,o=this.interpolateRegex;if(r.nodeType===Node.TEXT_NODE){var i=r.nodeValue;if(!this.interpolatable(i))return r;for(var a,u=0,c=function(){var o=a[2],c=!1,s=!1,l=o.split("|"),p=!1;if(l.length>1&&(p=n.stringTransformer(l.slice(1)),o=l[0]),"$$"===o.substr(0,2)&&(c=!0,s=!0,o=o.substr(2)),"$"===o.substr(0,1)&&(c=!0,o=o.substr(1)),"000"===o.substr(0,3))return expand=!0,o=o.substr(3),"continue";var v=i.substring(u,a.index);u=a.index+a[1].length;var y=document.createTextNode(v);y[b]=!0,r.parentNode.insertBefore(y,r);var d=void 0;(d=c?document.createElement("div"):document.createTextNode(""))[b]=!0;var h=n.args,m=o;if(o.match(/\./)){var g=f(t.Bindable.resolve(n.args,o,!0),2);h=g[0],m=g[1]}r.parentNode.insertBefore(d,r);var w=h.bindTo(m,function(t,o,i){if(i[o]instanceof e&&i[o]!==t&&(i[o].preserve||i[o].remove()),d.nodeValue="",s&&!(t instanceof e)){var a=t;(t=new e(n.args,n)).template=a}if(t instanceof e){var u=function(e){t.attached(e)};n.attach.add(u),t.render(r.parentNode,d);var l=function(){t.preserve||t.remove()};n.onRemove(l),t.onRemove(function(){n.attach.remove(u),n._onRemove.remove(l)})}else p&&(t=p(t)),t instanceof Node?r.parentNode.insertBefore(t,r):(t instanceof Object&&t.__toString instanceof Function&&(t=t.__toString()),c?d.innerHTML=t:d.nodeValue=t),d[b]=!0});n.onRemove(function(){w(),h.isBound()||t.Bindable.clearBindings(h)})};a=o.exec(i);)c();var s=i.substring(u),l=document.createTextNode(s);l[b]=!0,r.parentNode.insertBefore(l,r),r.nodeValue=""}if(r.nodeType===Node.ELEMENT_NODE)for(var p=function(e){if(!n.interpolatable(r.attributes[e].value))return"continue";for(var i=0,a=void 0,u=r.attributes[e].value,c=r.attributes[e],s={},l=[];a=o.exec(u);)l.push(u.substring(i,a.index)),s[a[2]]||(s[a[2]]=[]),s[a[2]].push(l.length),l.push(a[1]),i=a.index+a[1].length;l.push(u.substring(i));var p=function(e){var o=n.args,i=e,a=e.split("|"),u=!1,p=e;if(a.length>1&&(u=n.stringTransformer(a.slice(1)),i=a[0]),i.match(/\./)){var v=f(t.Bindable.resolve(n.args,i,!0),2);o=v[0],i=v[1]}s[p];n.onRemove(o.bindTo(i,function(t,e,n,o){for(var a in u&&(t=u(t)),s)for(var f in s[p])l[s[p][f]]=n[a],e===i&&(l[s[p][f]]=t);r.setAttribute(c.name,l.join(""))})),n.onRemove(function(){o.isBound()||t.Bindable.clearBindings(o)})};for(var v in s)p(v)},v=0;v<r.attributes.length;v++)p(v);return r}},{key:"mapRefTag",value:function(t){var e=f(t.getAttribute("cv-ref").split(":"),3),r=e[0],n=e[1],o=void 0===n?null:n,i=e[2],a=void 0===i?null:i,c=u.Tag;o&&(c=this.stringToClass(o)),t.removeAttribute("cv-ref"),Object.defineProperty(t,"___tag___",{enumerable:!1,writable:!0}),this.onRemove(function(){t.___tag___=null,t.remove()});var s=this;this.viewList&&(s=this.viewList.parent);var l=new c(t,this,r,void 0,this);for(t.___tag___=l,this.tags[r]=l;s;){s.parent;var p=this.args[a];void 0!==p?(s.tags[r]||(s.tags[r]=[]),s.tags[r][p]=l):s.tags[r]=l,s=s.parent}return t}},{key:"mapBindTag",value:function(r){var n=this,o=r.getAttribute("cv-bind"),a=this.args,u=o,c=null;if(o.match(/\./)){var s=f(t.Bindable.resolve(this.args,o,!0),3);a=s[0],u=s[1],c=s[2]}a!==this.args&&(this.subBindings[o]=this.subBindings[o]||[],this.onRemove(this.args.bindTo(c,function(){for(;n.subBindings.length;)n.subBindings.shift()()})));var l=!1;"$"===u.substr(0,1)&&(u=u.substr(1),l=!0);var v=a.bindTo(u,function(t,o,a,u,c){c instanceof e&&c!==t&&c.remove();var s=new CustomEvent("cvAutoChanged",{bubbles:!0});if(["INPUT","SELECT","TEXTAREA"].includes(r.tagName)){var f=r.getAttribute("type");if(f&&"checkbox"===f.toLowerCase())r.checked=!!t,r.dispatchEvent(s);else if(f&&"radio"===f.toLowerCase())r.checked=t==r.value,r.dispatchEvent(s);else if("file"!==f){if("SELECT"===r.tagName){n.attach.add(function(e){var n,o=p(r.options);try{for(o.s();!(n=o.n()).done;)n.value.value==t&&(r.selectedIndex=i)}catch(t){o.e(t)}finally{o.f()}})}else r.value=null==t?"":t;r.dispatchEvent(s)}}else if(t instanceof e){var v,y=p(r.childNodes);try{for(y.s();!(v=y.n()).done;){v.value.remove()}}catch(t){y.e(t)}finally{y.f()}var d=function(e){t.attached(e)};n.attach.add(d),t.render(r),t.onRemove(function(){return n.attach.remove(d)})}else if(l){if(r.innerHTML!==t)if(r.innerHTML===t.substring(0,r.innerHTML.length))r.innerHTML+=t.substring(r.innerHTML.length);else{var h,b=p(r.childNodes);try{for(b.s();!(h=b.n()).done;){h.value.remove()}}catch(t){b.e(t)}finally{b.f()}r.innerHTML=t}}else if(r.textContent!==t){var m,g=p(r.childNodes);try{for(g.s();!(m=g.n()).done;){m.value.remove()}}catch(t){g.e(t)}finally{g.f()}r.textContent=t}});a!==this.args&&this.subBindings[o].push(v),this.onRemove(v);var y=r.getAttribute("type"),d=r.getAttribute("multiple"),h=function(e){if(e.target===r)if(y&&"checkbox"===y.toLowerCase())r.checked?a[u]=e.target.getAttribute("value"):a[u]=!1;else if(e.target.matches("[contenteditable=true]"))a[u]=e.target.innerHTML;else if("file"===y&&d){var n=Array.from(e.target.files),o=a[u]||t.Bindable.onDeck(a,u);if(o&&n.length){var i=function(t){if(n[t]!==o[t])return n[t].toJSON=function(){return{name:file[t].name,size:file[t].size,type:file[t].type,date:file[t].lastModified}},o[t]=n[t],"break"};for(var c in n){if("break"===i(c))break}}else a[u]=n}else if("file"!==y||d)a[u]=e.target.value;else{var s=e.target.files.item(0);s.toJSON=function(){return{name:s.name,size:s.size,type:s.type,date:s.lastModified}},a[u]=s}};return"file"===y||"radio"===y?r.addEventListener("change",h):(r.addEventListener("input",h),r.addEventListener("change",h),r.addEventListener("value-changed",h)),this.onRemove(function(t,e){return function(){"file"===y||"radio"===y?t.removeEventListener("change",h):(t.removeEventListener("input",h),t.removeEventListener("change",h),t.removeEventListener("value-changed",h)),t=void 0,void 0}}(r)),r.removeAttribute("cv-bind"),r}},{key:"mapOnTag",value:function(t){var e=this;return String(t.getAttribute("cv-on")).split(";").map(function(t){return t.split(":")}).map(function(r){var n,o=(r=r.map(function(t){return t.trim()})).length,i=String(r.shift()).trim(),a=String(r.shift()||i).trim(),u=String(r.shift()||"").trim(),c=[],s=/(\w+)(?:\(([$\w\s-'",]+)\))?/.exec(a);s?(a=s[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),s[2]&&(c=s[2].split(",").map(function(t){return t.trim()})),s.length):c.push("$event"),i&&1!==o||(i=a);for(var f=e;f;){if("function"==typeof f[a])if("break"===function(){var t=f,e=a;return n=function(){t[e].apply(t,arguments)},"break"}())break;if(!f.parent)break;f=f.parent}var p=function(r){var o=c.map(function(n){var o;return parseInt(n)==n?n:"event"===n||"$event"===n?r:"$view"===n?f:"$tag"===n?t:"$parent"===n?e.parent:"$subview"===n?e:n in e.args?e.args[n]:(o=/^['"]([\w-]+?)["']$/.exec(n))?o[1]:void 0});if("function"!=typeof n)throw new Error("".concat(a," is not defined on View object.")+"\nTag:\n"+"".concat(t.outerHTML));n.apply(void 0,l(o))},v={};switch(u.includes("p")?v.passive=!0:u.includes("P")&&(v.passive=!1),u.includes("c")?v.capture=!0:u.includes("C")&&(v.capture=!1),u.includes("o")?v.once=!0:u.includes("O")&&(v.once=!1),i){case"_init":p();break;case"_attach":e.attach.add(p);break;case"_detach":e.detach.add(p);break;default:t.addEventListener(i,p,v),e.onRemove(function(){t.removeEventListener(i,p,v)})}return[i,a,c]}),t.removeAttribute("cv-on"),t}},{key:"mapLinkTag",value:function(t){var e=t.getAttribute("cv-link");t.setAttribute("href",e);var r=function(r){r.preventDefault(),"http"!==e.substring(0,4)&&"//"!==e.substring(0,2)?o.Router.go(t.getAttribute("href")):window.open(t.getAttribute("href",e))};return t.addEventListener("click",r),this.onRemove(function(t,e){return function(){t.removeEventListener("click",e),t=void 0,e=void 0}}(t,r)),t.removeAttribute("cv-link"),t}},{key:"compileLinkTag",value:function(t){var r=t.getAttribute("cv-link");return t.removeAttribute("cv-link"),function(n){var o=t.cloneNode(!0);return o.setAttribute("href",r),o.addEventListener("click",e.linkClicked),n.onRemove(function(){return o.removeEventListener(e.linkClicked)}),o}}},{key:"mapPrendererTag",value:function(t){var e=t.getAttribute("cv-prerender"),r=window.prerenderer||navigator.userAgent.match(/prerender/i);return r&&(window.prerenderer=window.prerenderer||!0),("never"===e&&r||"only"===e&&!r)&&t.parentNode.removeChild(t),t}},{key:"mapWithTag",value:function(r){var n=this,o=r.getAttribute("cv-with"),i=r.getAttribute("cv-carry"),a=r.getAttribute("cv-view");r.removeAttribute("cv-with"),r.removeAttribute("cv-carry"),r.removeAttribute("cv-view");var u=a?this.stringToClass(a):e,c=new DocumentFragment;l(r.childNodes).map(function(t){return c.appendChild(t)});var s=[];i&&(s=i.split(",").map(function(t){return t.trim()}));var f=this.args.bindTo(o,function(e,o,i,a){for(n.withViews.has(r)&&n.withViews.delete(r);r.firstChild;)r.removeChild(r.firstChild);var l=new u({},n);n.onRemove(function(t){return function(){t.remove()}}(l)),l.template=c;var f=function(t){var e=n.args.bindTo(s[t],function(t,e){l.args[e]=t});l.onRemove(e),n.onRemove(function(){e(),l.remove()})};for(var p in s)f(p);var v=function(r){var o=e.bindTo(r,function(t,e){l.args[e]=t});l.args.bindTo(r,function(t,r){e[r]=t});n.onRemove(function(){o(),e.isBound()||t.Bindable.clearBindings(e),l.remove()}),l.onRemove(function(){o(),e.isBound()||t.Bindable.clearBindings(e)})};for(var y in e)v(y);l.render(r),n.withViews.set(r,l)});return this.onRemove(function(){n.withViews.delete(r),f()}),r}},{key:"mapViewTag",value:function(t){var r=this,n=t.getAttribute("cv-view");t.removeAttribute("cv-view");var o=new DocumentFragment;l(t.childNodes).map(function(t){return o.appendChild(t)});var i=n.split(":"),a=i.pop()?this.stringToClass(n):e,u=i.shift(),c=new a(this.args,this);return this.views.set(t,c),u&&this.views.set(u,c),this.onRemove(function(e){return function(){e.remove(),r.views.delete(t),r.views.delete(u)}}(c)),c.template=o,c.render(t),t}},{key:"mapEachTag",value:function(t){var r=this,o=t.getAttribute("cv-each"),i=t.getAttribute("cv-view");t.removeAttribute("cv-each"),t.removeAttribute("cv-view");var a=i?this.stringToClass(i):e,u=new DocumentFragment;Array.from(t.childNodes).map(function(t){return u.appendChild(t)});var c=f(o.split(":"),3),s=c[0],l=c[1],p=c[2],v=this.args.bindTo(s,function(e,o,i,c,s){r.viewLists.has(t)&&r.viewLists.get(t).remove();var f=new n.ViewList(u,l,e,r,p,a),v=function(){return f.remove()};r.onRemove(v),f.onRemove(function(){return r._onRemove.remove(v)});var y=r.args.bindTo(function(t,e,r,n){"_id"!==e&&(f.subArgs[e]=t)}),d=f.args.bindTo(function(t,e,n,o,i){"_id"!==e&&"value"!==e&&"___"!==e.substring(0,3)&&e in r.args&&(r.args[e]=t)});for(f.onRemove(y),f.onRemove(d),r.onRemove(y),r.onRemove(d);t.firstChild;)t.removeChild(t.firstChild);r.viewLists.set(t,f),f.render(t)});return this.onRemove(v),t}},{key:"mapIfTag",value:function(r){var n=r,o=n.getAttribute("cv-if"),i=!1,a=!1;n.removeAttribute("cv-if"),"!"===o.substr(0,1)&&(o=o.substr(1),i=!0),"?"===o.substr(0,1)&&(o=o.substr(1),a=!0);var u=new DocumentFragment;Array.from(n.childNodes).map(function(t){return u.appendChild(t)});var c=this,s=new DocumentFragment,l=new e(this.args,c);l.template=u;var p=c.args,v=o;if(o.match(/\./)){var y=f(t.Bindable.resolve(c.args,o,!0),2);p=y[0],v=y[1]}var d=!1,h=p.bindTo(v,function(t,e){a&&(t=null!==t&&void 0!==t),Array.isArray(t)&&(t=!!t.length),i&&(t=!t),d||(l.render(s),d=!0),t?r.appendChild(s):l.nodes.map(function(t){return s.appendChild(t)})});c.onRemove(h);var b=function(){p.isBound()||t.Bindable.clearBindings(p)};return c.onRemove(function(){h(),b(),c._onRemove.remove(h),c._onRemove.remove(b)}),r}},{key:"compileIfTag",value:function(r){var n=r.getAttribute("cv-if"),o=!1;r.removeAttribute("cv-if"),"!"===n.substr(0,1)&&(n=n.substr(1),o=!0);var i=new DocumentFragment;return Array.from(r.childNodes).map(function(t){return i.appendChild(t.cloneNode(!0))}),function(a){var u=r.cloneNode(),c=new DocumentFragment,s=new e({},a);s.template=i,a.syncBind(s);var l=a.args,p=n;if(n.match(/\./)){var v=f(t.Bindable.resolve(a.args,n,!0),2);l=v[0],p=v[1]}var y=!1,d=l.bindTo(p,function(t,e){if(!y){var r=a.args[p]||o?u:c;return s.render(r),void(y=!0)}Array.isArray(t)&&(t=!!t.length),o&&(t=!t),t?u.appendChild(c):s.nodes.map(function(t){return c.appendChild(t)})});a.onRemove(d);var h=function(){l.isBound()||t.Bindable.clearBindings(l)};return s.onRemove(function(){d(),h(),a._onRemove.remove(d),a._onRemove.remove(h)}),u}}},{key:"mapTemplateTag",value:function(t){var e=t.getAttribute("cv-template");return t.removeAttribute("cv-template"),this.subTemplates[e]=function(){return"TEMPLATE"===t.tagName?t.content.cloneNode(!0):new DocumentFragment(t.innerHTML)},t}},{key:"mapSlotTag",value:function(t){var e=t.getAttribute("cv-slot"),r=this.subTemplates[e];if(!r){for(var n=this;n&&!(r=n.subTemplates[e]);)n=this.parent;if(!r)return void console.error("Template ".concat(e," not found."))}var o=r();for(t.removeAttribute("cv-slot");t.firstChild;)t.firstChild.remove();return t.appendChild(o),t}},{key:"syncBind",value:function(t){var r=this,n=this.args.bindTo(function(e,r,n,o){"_id"!==r&&t.args[r]!==e&&(t.args[r]=e)}),o=t.args.bindTo(function(t,n,o,i,a){if("_id"!==n){var u=t,c=a;u instanceof e&&(u=u.___ref___),c instanceof e&&(c=c.___ref___),u!==c&&c instanceof e&&a.remove(),n in r.args&&(r.args[n]=t)}});this.onRemove(n),this.onRemove(o),t.onRemove(function(){r._onRemove.remove(n),r._onRemove.remove(o)})}},{key:"postRender",value:function(t){}},{key:"attached",value:function(t){}},{key:"interpolatable",value:function(t){return!!String(t).match(this.interpolateRegex)}},{key:"uuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}},{key:"remove",value:function(){var t=this,e=function(){for(var e in t.firstNode=t.lastNode=void 0,t.nodes)t.nodes[e].dispatchEvent(new Event("cvDomDetached")),t.nodes[e].remove()};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e():requestAnimationFrame(e);var r,n,o=p(this._onRemove.items());try{for(o.s();!(r=o.n()).done;){var i=r.value;this._onRemove.remove(i),i()}}catch(t){o.e(t)}finally{o.f()}for(;n=this.cleanup.shift();)n&&n();var a,u=p(this.viewLists);try{for(u.s();!(a=u.n()).done;){var c=f(a.value,2);c[0];c[1].remove()}}catch(t){u.e(t)}finally{u.f()}for(var s in this.viewLists.clear(),this.timeouts)clearTimeout(this.timeouts[s].timeout),delete this.timeouts[s];for(var l in this.intervals)clearInterval(this.intervals[l].timeout),delete this.intervals[l];for(var l in this.frames)this.frames[l](),delete this.frames[l];this.removed=!0}},{key:"findTag",value:function(t){for(var e in this.nodes){var r;if(this.nodes[e].querySelector){if(this.nodes[e].matches(t))return this.nodes[e];if(r=this.nodes[e].querySelector(t))return r}}}},{key:"findTags",value:function(t){return this.nodes.filter(function(t){return t.querySelectorAll}).map(function(e){return e.querySelectorAll(t)}).flat()}},{key:"onRemove",value:function(t){this._onRemove.add(t)}},{key:"update",value:function(){}},{key:"beforeUpdate",value:function(t){}},{key:"afterUpdate",value:function(t){}},{key:"stringTransformer",value:function(t){var e=this;return function(r){for(var n in t){for(var o=e,i=t[n];o&&!o[i];)o=o.parent;if(!o)return;r=o[t[n]](r)}return r}}},{key:"stringToClass",value:function(t){if(e.refClasses.has(t))return e.refClasses.get(t);var n=t.split("/"),o=n[n.length-1],i=r(t);return e.refClasses.set(t,i[o]),i[o]}},{key:"preventParsing",value:function(t){t[b]=!0}},{key:"toString",value:function(){return this.nodes.map(function(t){return t.outerHTML}).join(" ")}},{key:"listen",value:function(t,r,n,o){var i=this;if("string"==typeof t&&(o=n,n=r,r=t,t=this),t instanceof e)return this.listen(t.nodes,r,n,o);if(Array.isArray(t)){var a=t.map(function(t){return i.listen(t,r,n,o)});return function(){return a.map(function(t){return t()})}}if(t instanceof u.Tag)return this.listen(t.element,r,n,o);t.addEventListener(r,n,o);var c=function(){t.removeEventListener(r,n,o)},s=function(){c(),c=function(){}};return this.onRemove(function(){return s()}),s}}],[{key:"isView",value:function(){return e}}]),e}();e.View=g,Object.defineProperty(g,"templates",{enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(g,"refClasses",{enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(g,"linkClicked",function(t){t.preventDefault();var e=t.target.getAttribute("href");"http"!==e.substring(0,4)&&"//"!==e.substring(0,2)?o.Router.go(e):window.open(e)})}()}),require.register("curvature/base/ViewList.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewList=void 0;var t=r("./Bindable"),n=r("./View"),o=r("./Bag");function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function e(r,i,a,c){var s=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.removed=!1,this.args=t.Bindable.makeBindable({}),this.args.value=t.Bindable.makeBindable(a||{}),this.subArgs=t.Bindable.makeBindable({}),this.views=[],this.cleanup=[],this.viewClass=f||n.View,this._onRemove=new o.Bag,this.template=r,this.subProperty=i,this.keyProperty=l,this.tag=null,this.paused=!1,this.parent=c,this.rendered=new Promise(function(t,e){Object.defineProperty(s,"renderComplete",{configurable:!1,writable:!0,value:t})}),this.willReRender=!1,this.args.___before(function(t,e,r,n,o){"bindTo"!=e&&(s.paused=!0)}),this.args.___after(function(t,e,r,n,o){"bindTo"!=e&&(s.paused=r.length>1,s.reRender())});var p=this.args.value.bindTo(function(t,e,r,n){if(!s.paused){var o=e;if("symbol"!==u(e))if(isNaN(e)&&(o="_"+e),n)for(var i in s.views[o]&&s.views[o].remove(),delete s.views[o],s.views)s.views[i].args[s.keyProperty]="string"!=typeof i?i:i.substr(1);else s.views[o]||s.willReRender?s.views[o]&&s.views[o].args&&(s.views[o].args[s.keyProperty]=e,s.views[o].args[s.subProperty]=t):s.willReRender=requestAnimationFrame(function(){s.reRender()})}});this._onRemove.add(p)}var r,a,s;return r=e,(a=[{key:"render",value:function(t){var e,r=this,n=[],o=i(this.views);try{var a=function(){var r=e.value;r.render(t),n.push(r.rendered.then(function(){return r}))};for(o.s();!(e=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}this.tag=t,Promise.all(n).then(function(t){return r.renderComplete(t)})}},{key:"reRender",value:function(){var t=this;if(!this.paused&&this.tag){var e=[];for(var r in this.views)e[r]=this.views[r];var n=[];for(var o in this.args.value){var i=!1,a=o;for(var u in isNaN(a)&&(a="_"+o),e)if(e[u]&&void 0!==this.args.value[o]&&this.args.value[o]===e[u].args[this.subProperty]){i=!0,n[a]=e[u],n[a].args[this.keyProperty]=o,delete e[u];break}i||function(){var e={},r=n[a]=new t.viewClass(e,t.parent);n[a].template=(t.template,Object,t.template),n[a].viewList=t,n[a].args[t.keyProperty]=o,n[a].args[t.subProperty]=t.args.value[o];var i=e.bindTo(t.subProperty,function(r,n){var o=e[t.keyProperty];t.args.value[o]=r}),u=t.subArgs.bindTo(function(t,r,n,o){e[r]=t});r.onRemove(function(){i(),u(),t._onRemove.remove(i),t._onRemove.remove(u)}),t._onRemove.add(i),t._onRemove.add(u),e[t.subProperty]=t.args.value[o]}()}for(var c in e){var s=!1;for(var l in n)if(e[c]===n[l]){s=!0;break}s||e[c].remove()}if(Array.isArray(this.args.value)){this.rendered=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=n.length-r-1;return n[o]?n[o]===t.views[o]?n[o].firstNode?e(r+1):(n[o].render(t.tag,n[o+1]),n[o].rendered.then(function(){return e(r+1)})):(n[o].render(t.tag,n[o+1]),t.views.splice(o,0,n[o]),n[o].rendered.then(function(){return e(r+1)})):Promise.resolve()}()}else{var f=[],p=Object.assign({},n),v=function(e){if(delete p[e],n[e].firstNode&&n[e]===t.views[e])return"continue";n[e].render(t.tag),f.push(n[e].rendered.then(function(){return n[e]}))};for(var y in n)v(y);for(var d in p)delete this.args.views[d],p.remove();this.rendered=Promise.all(f)}for(var h in this.views=n,n)isNaN(h)?n[h].args[this.keyProperty]=h.substr(1):n[h].args[this.keyProperty]=h;this.willReRender=!1}}},{key:"pause",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var e in this.views)this.views[e].pause(t)}},{key:"onRemove",value:function(t){this._onRemove.add(t)}},{key:"remove",value:function(){for(var e in this.views)this.views[e].remove();var r=this._onRemove.items();for(var n in r)this._onRemove.remove(r[n]),r[n]();for(;this.cleanup.length;)this.cleanup.pop()();for(this.views=[];this.tag&&this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);this.subArgs&&t.Bindable.clearBindings(this.subArgs),t.Bindable.clearBindings(this.args),this.args.value&&!this.args.value.isBound()&&t.Bindable.clearBindings(this.args.value),this.removed=!0}}])&&c(r.prototype,a),s&&c(r,s),e}();e.ViewList=s}()}),require.register("curvature/form/ButtonField.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonField=void 0;var t=r("./Field");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.Field);var r,n,u,c=a(s);function s(t,e,r,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=c.call(this,t,e,r,n)).args.title=o.args.title||o.args.value,o._onClick=[];var i=o.args.attrs||{};return i.type=i.type||o.args.type,o.args.name=i.name=o.args.name||n,o.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(o.getName(),'"\n\t\t\t\tdata-type = "').concat(i.type,'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\tname      = "').concat(o.getName(),'"\n\t\t\t\t\ttype      = "').concat(i.type,'"\n\t\t\t\t\tvalue     = "[[value]]"\n\t\t\t\t\tcv-on     = "click:clicked(event)"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t'),o}return r=s,(n=[{key:"clicked",value:function(t){this._onClick.map(function(e){return!1===e(t)}).filter(function(t){return t}).length?"submit"==this.args.attrs.type&&(t.preventDefault(),t.stopPropagation()):"submit"==this.args.attrs.type&&(t.preventDefault(),t.stopPropagation(),this.form.tags.formTag.element.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})))}},{key:"onClick",value:function(t){this._onClick.push(t)}}])&&o(r.prototype,n),u&&o(r,u),s}();e.ButtonField=c}()}),require.register("curvature/form/Field.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Field=void 0;var t=r("../base/View");r("../base/Bindable");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.View);var r,n,u,c=a(s);function s(t,e,r,n){var o,i,a,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var l=Object.assign({},t);(u=c.call(this,l)).args.title=null!==(o=u.args.title)&&void 0!==o?o:n,u.args.value=null!==(i=u.args.value)&&void 0!==i?i:"",u.value=null!==(a=u.args.value)&&void 0!==a?a:"",u.skeleton=l,u.disabled=null,u.args.valueString="",u.form=e,u.parent=r,u.key=n,u.ignore=u.args.attrs&&u.args.attrs["data-cv-ignore"]||!1;var f="",p=u.args.attrs||{};p.type=p.type||l.type||null,u.args.name=p.name=p.name||u.args.name||n,"checkbox"==p.type&&(f='value = "1"'),u.template='\n\t\t\t<label\n\t\t\t\tfor           = "'.concat(u.getName(),'"\n\t\t\t\tdata-type     = "').concat(p.type||"text",'"\n\t\t\t\tcv-ref        = "label:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<input\n\t\t\t\t\tname      = "').concat(u.getName(),'"\n\t\t\t\t\ttype      = "').concat(p.type||"text",'"\n\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t\t').concat(f,'\n\t\t\t\t/>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t');var v=null;return u.args.bindTo("value",function(t,e){if(!isNaN(t)&&t.length&&t==Number(t)&&t.length===String(Number(t)).length&&(t=Number(t)),u.value=t,v!=e){if(v=n,u.args.valueString=JSON.stringify(t||"",null,4),u.valueString=u.args.valueString,"file"==p.type&&u.tags.input&&u.tags.input.element.files&&u.tags.input.element.length)if(p.multiple){var r=Array.from(u.tags.input.element.files);if(u.parent.args.value[e]&&r.length){for(var o in r)r[o]!==u.parent.args.value[n][o]&&(u.parent.args.value[n]=r);u.parent.args.value.splice(r.length)}else u.parent.args.value[n]=r}else u.parent.args.value[n]=u.tags.input.element.files[0];else u.parent.args.value||(u.parent.args.value={}),u.parent.args.value[n]=t;u.args.errors=[],v=null}}),u.parent.args.value[u.key]=u.args.value,u.parent.args.value.bindTo(n,function(t,e){if(v!=e){if(v=e,"file"==p.type)if(u.tags.input&&u.tags.input.element.files&&u.tags.input.element.files.length)if(p.multiple){var r=Array.from(u.tags.input.element.files);if(u.parent.args.value[n]&&r.length){for(var o in r)r[o]!==u.parent.args.value[n][o]&&(u.parent.args.value[n]=r);u.parent.args.value[n].splice(r.length)}else u.parent.args.value[n]=r}else u.parent.args.value[n]=u.tags.input.element.files[0];else u.args.value=t;else u.args.value=t;v=null}}),u}return r=s,(n=[{key:"disable",value:function(){this.hasChildren(),this.disabled="disabled"}},{key:"enable",value:function(){this.hasChildren(),this.disabled=!1}},{key:"hasChildren",value:function(){return!1}},{key:"getName",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tags.input)return this.tags.input.element.getAttribute("name");var e=this.key;if(t){for(var r=this.parent,n=[e];r&&r.array&&void 0!==r.key;)n.unshift(r.key),r=r.parent;e=n.shift(),n.length&&(e+="[".concat(n.join("]["),"]"))}return e}}])&&o(r.prototype,n),u&&o(r,u),s}();e.Field=c}()}),require.register("curvature/form/FieldSet.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FieldSet=void 0;var t=r("./Field"),n=r("./Form");function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;return c(t)}(this,r)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t.Field);var r,o,s,l=u(f);function f(t,e,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var a=(i=l.call(this,t,e,r,o)).args.attrs||{};return a.type=a.type||"fieldset",i.array=!1,(t.array||a["data-array"]||a["data-multi"])&&(i.array=a["data-array"]=!0),i.args.value={},i.args.fields=n.Form.renderFields(t.children,c(i)),i.fields=i.args.fields,i.template='\n\t\t\t<label\n\t\t\t\tfor        = "'.concat(i.getName(),'"\n\t\t\t\tdata-type  = "').concat(a.type,'"\n\t\t\t\tdata-multi = "').concat(a["data-multi"]?"true":"false",'"\n\t\t\t\tcv-ref     = "label:curvature/base/Tag"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<fieldset\n\t\t\t\t\tname   = "').concat(i.getName(),'"\n\t\t\t\t\tcv-ref = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand="attrs"\n\t\t\t\t\tcv-each = "fields:field"\n\t\t\t\t>\n\t\t\t\t\t[[field]]\n\t\t\t\t</fieldset>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),i}return r=f,(o=[{key:"hasChildren",value:function(){return!!Object.keys(this.args.fields).length}},{key:"wrapSubfield",value:function(t){return t}}])&&i(r.prototype,o),s&&i(r,s),f}();e.FieldSet=l}()}),require.register("curvature/form/Form.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;var t=r("../base/View"),n=r("./Field"),o=r("./FieldSet"),i=r("./SelectField"),a=r("./RadioField"),u=r("./HtmlField"),c=r("./HiddenField"),s=r("./ButtonField"),l=r("./TextareaField"),f=r("./multiField/View"),p=r("../base/Bindable");function v(t){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(_,t.View);var r,v,g,w=h(_);function _(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),(e=w.call(this,{})).args.flatValue=e.args.flatValue||{},e.args.value=e.args.value||{},e.args.method=t._method||"GET",e.args.classes=e.args.classes||[],e.skeleton=t,e.args.bindTo("classes",function(t){e.args._classes=t.join(" ")}),e._onSubmit=[],e._onRender=[],e.action="",e.template='\n\t\t\t<form\n\t\t\t\tclass     = "[[_classes]]"\n\t\t\t\tmethod    = "[[method]]"\n\t\t\t\tenctype   = "multipart/form-data"\n\t\t\t\tcv-on     = "submit:submit(event)"\n\t\t\t\tcv-ref    = "formTag:curvature/base/Tag"\n\t\t\t\tcv-each   = "fields:field"\n\t\t\t\tcv-expand = "attrs"\n\t\t\t>\n\t\t\t\t[[field]]\n\t\t\t</form>\n\t\t',e.args.fields=_.renderFields(t,m(e),r),e.fields=e.args.fields;var n=p.Bindable.makeBindable(m(e));return e.args.bindTo("value",function(t){n.value=t}),e.args.bindTo("valueString",function(t){n.json=t}),b(e,n)}return r=_,g=[{key:"renderFields",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p={},v=function(v){if(p[v])return"continue";if("_"==v.substr(0,1))return"continue";var y=null,d=null;if(e&&(d=e instanceof _?e:e.form),r&&t[v].name in r)y=new r[t[v].name](t[v],d,e,v);else switch(t[v].type){case"fieldset":y=t[v].attrs&&t[v].attrs["data-multi"]?new f.View(t[v],d,e,v):new o.FieldSet(t[v],d,e,v);break;case"select":y=new i.SelectField(t[v],d,e,v);break;case"radios":y=new a.RadioField(t[v],d,e,v);break;case"html":y=new u.HtmlField(t[v],d,e,v);break;case"submit":case"button":y=new s.ButtonField(t[v],d,e,v);break;case"hidden":y=new c.HiddenField(t[v],d,e,v);break;case"textarea":y=new l.TextareaField(t[v],d,e,v);break;default:y=new n.Field(t[v],d,e,v)}p[v]=y;var h=y.key;y.args.bindTo("value",function(t,r,n,o){if(!isNaN(t)&&t.length&&t==Number(t)&&t.length===String(Number(t)).length&&(t=Number(t)),("html"!=n.type||n.contentEditable)&&"fieldset"!=n.type)if(n.disabled)delete d.args.flatValue[h];else{n.attrs=n.attrs||{};n.attrs.multiple;var i=Array.isArray(t),a=e.args.value[h];if(n.attrs.multiple&&i&&Array.isArray(a))for(var u in t)t[u]!==e.args.value[h][u]&&(e.args.value[h][u]=t[u]),e.args.value[h].splice(t.length);else e.args.value[h]=t;d.args.flatValue[h]=t,d.args.valueString=JSON.stringify(d.args.value,null,4),console.log()}})};for(var y in t)v(y);return p}},{key:"_updateFields",value:function(t,e){for(var r in t.args.fields){var n=t.args.fields[r];e[r]&&(e[r].value&&(n.args.value=e[r].value),e[r].errors&&(n.args.errors=e[r].errors),e[r].title&&(n.args.title=e[r].title),e[r].options&&(n.args.options=e[r].options),e[r].attrs&&(n.args.attrs=e[r].attrs),n.children&&e[r].children&&this._updateFields(n,e[r].children))}}}],(v=[{key:"submitHandler",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"submit",value:function(t){for(var e in this.args.valueString=JSON.stringify(this.args.value,null,4),this._onSubmit)this._onSubmit[e](this,t)}},{key:"buttonClick",value:function(t){}},{key:"onSubmit",value:function(t){this._onSubmit.push(t)}},{key:"onRender",value:function(t){this.nodes?t(this):this._onRender.push(t)}},{key:"formData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t||(t=new FormData),e||(e=this);for(var n in e.args.fields)if(!e.args.fields[n]||!e.args.fields[n].disabled){var o=r.slice(0);if(o.push(n),e.args.fields[n]&&e.args.fields[n].hasChildren())this.formData(t,e.args.fields[n],o);else if(e.args.fields[n]){var i=e.args.fields[n].getName();if("file"==e.args.fields[n].args.type&&e.args.fields[n].tags.input.element.files&&e.args.fields[n].tags.input.element.files.length)if(e.args.fields[n].args.attrs.multiple)for(var a=e.args.fields[n].tags.input.element.files,u=0;u<a.length;u++)a[u]&&t.append(i+"[]",a[u]);else e.args.fields[n].tags.input.element.files[0]&&t.append(i,e.args.fields[n].tags.input.element.files[0]);else("file"!==e.args.fields[n].args.type||e.args.fields[n].args.value)&&t.append(i,void 0===e.args.fields[n].args.value?"":e.args.fields[n].args.value)}}return t}},{key:"queryString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];for(var r in this.args.flatValue)t[r]=t[r]||this.args.flatValue[r];for(var n in t)e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}},{key:"populate",value:function(t){for(var e in t)this.args.value[e]=t[e]}},{key:"hasChildren",value:function(){return!!Object.keys(this.args.fields).length}},{key:"postRender",value:function(){for(var t in this._onRender)this._onRender[t](this)}}])&&y(r.prototype,v),g&&y(r,g),_}();e.Form=w}()}),require.register("curvature/form/HiddenField.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenField=void 0;var t=r("./Field");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Field);var r=i(n);function n(t,e,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t.type="hidden";var u=(a=r.call(this,t,e,o,i)).args.attrs||{};return a.args.type=u.type=u.type||a.args.type||"hidden",a.args.name=u.name=u.name||a.args.name||i,a.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(a.getName(),'"\n\t\t\t\tdata-type = "').concat(u.type,'"\n\t\t\t\tstyle     = "display:none"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<input\n\t\t\t\t\t\tname      = "').concat(a.getName(),'"\n\t\t\t\t\t\ttype      = "hidden"\n\t\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t/>\n\t\t\t\t<span cv-if = "value">[[[value]]]</span>\n\t\t\t</label>\n\t\t'),a}return n}();e.HiddenField=u}()}),require.register("curvature/form/HtmlField.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlField=void 0;var t=r("./Field");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.Field);var r,n,u,c=a(s);function s(t,e,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=c.call(this,t,e,r,n)).key=n,o.args.tagName=o.args.tagName||"div",o.args.displayValue=o.args.value,o.args.attrs=o.args.attrs||{},o.ignore=o.args.attrs["data-cv-ignore"]||!1,o.args.contentEditable=o.args.attrs.contenteditable||!1,o.args.bindTo("value",function(t){o.tags.input&&o.tags.input.element!==document.activeElement&&(o.args.displayValue=t)}),o.template="<".concat(o.args.tagName,'\n\t\t\tname            = "').concat(o.getName(),'"\n\t\t\tcv-ref          = "input:curvature/base/Tag"\n\t\t\tcontenteditable = "[[contentEditable]]"\n\t\t\tcv-expand       = "attrs"\n\t\t\tcv-bind         = "$displayValue"\n\t\t\tcv-on           = "input:inputProvided(event);"\n\t\t></').concat(o.args.tagName,">"),o}return r=s,(n=[{key:"inputProvided",value:function(t){this.args.value=t.target.innerHTML}},{key:"hasChildren",value:function(){return!1}},{key:"getName",value:function(){return this.key}}])&&o(r.prototype,n),u&&o(r,u),s}();e.HtmlField=c}()}),require.register("curvature/form/RadioField.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RadioField=void 0;var t=r("./Field");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.Field);var r,n,u,c=a(s);function s(t,e,r,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var i=(o=c.call(this,t,e,r,n)).args.attrs||{};return o.args.name=i.name=i.name||o.args.name||n,o.args.value=o.args.value||"",o.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(o.getName(),'"\n\t\t\t\tdata-type = "').concat(i.type,'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<span cv-each  = "options:option:optionText"/>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname      = "').concat(o.args.name,'"\n\t\t\t\t\t\t\ttype      = "radio"\n\t\t\t\t\t\t\tvalue     = "[[option]]"\n\t\t\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t\t\t\tcv-on     = "change:changed(event)"\n\t\t\t\t\t/>\n\t\t\t\t\t\t[[optionText]]\n\t\t\t\t\t</label>\n\t\t\t\t</span>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),o}return r=s,(n=[{key:"getLabel",value:function(){for(var t in this.args.options)if(this.args.options[t]==this.args.value)return t}},{key:"changed",value:function(t){this.args.value=t.target.value}}])&&o(r.prototype,n),u&&o(r,u),s}();e.RadioField=c}()}),require.register("curvature/form/SelectField.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectField=void 0;var t=r("./Field");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=s(t);if(e){var i=s(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(l,t.Field);var r,n,i,s=c(l);function l(t,e,r,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var i=(o=s.call(this,t,e,r,n)).args.attrs||{};return o.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(o.getName(),'"\n\t\t\t\tdata-type = "').concat(i.type||"select",'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<select\n\t\t\t\t\tname      = "').concat(o.getName(),'"\n\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\tcv-each   = "options:option:optionText"\n\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t/>\n\t\t\t\t\t<option value = "[[option]]">[[optionText]]</option>\n\t\t\t\t</select>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),o}return r=l,(n=[{key:"postRender",value:function(){var t=this;this.args.bindTo("value",function(e){return t.selectOptionByValue(e)}),this.args.options.bindTo(function(e){return t.selectOptionByValue(t.args.value)},{frame:1})}},{key:"selectOptionByValue",value:function(t){var e,r=this.tags.input.element,n=o(r.options);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.value==t&&(r.selectedIndex=i.index)}}catch(t){n.e(t)}finally{n.f()}}},{key:"getLabel",value:function(){for(var t in this.args.options)if(this.args.options[t]==this.args.value)return t}}])&&a(r.prototype,n),i&&a(r,i),l}();e.SelectField=l}()}),require.register("curvature/form/TextareaField.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextareaField=void 0;var t=r("./Field");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=a(t);if(e){var i=a(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t.Field);var r=i(n);function n(t,e,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var u=(a=r.call(this,t,e,o,i)).args.attrs||{};return u.type=u.type||"textarea",a.template='\n\t\t\t<label\n\t\t\t\tfor       = "'.concat(a.getName(),'"\n\t\t\t\tdata-type = "').concat(u.type,'"\n\t\t\t\tcv-ref    = "label:curvature/base/Tag">\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<textarea\n\t\t\t\t\t\tname      = "').concat(a.getName(),'"\n\t\t\t\t\t\tcv-bind   = "value"\n\t\t\t\t\t\tcv-ref    = "input:curvature/base/Tag"\n\t\t\t\t\t\tcv-expand = "attrs"\n\t\t\t\t></textarea>\n\t\t\t\t<cv-template cv-if = "attrs.data-caption">\n\t\t\t\t\t<p>[[attrs.data-caption]]</p>\n\t\t\t\t</cv-template>\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t'),a}return n}();e.TextareaField=u}()}),require.register("curvature/form/multiField/CreateForm.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateForm=void 0;var t=r("./FormWrapper");r("../../form/HiddenField");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=c(t);if(e){var i=c(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t.FormWrapper);var r,n,s,l=u(f);function f(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(r=l.call(this,t,e,"POST",n||{})).creating=!!t.publicId,r}return r=f,(n=[{key:"onLoad",value:function(t){for(var e in t.args.fields)if(t.args.fields[e].tags.input&&"hidden"!=t.args.fields[e].args.attrs.type){t.args.fields[e].tags.input.element.focus();break}i(c(f.prototype),"onLoad",this).call(this,t)}},{key:"onRequest",value:function(){return this.args.view.args.loading=!0,this.args.view.args.classes+=" loading",i(c(f.prototype),"onRequest",this).call(this)}},{key:"onResponse",value:function(t){this.args.view.args.loading=!1,this.args.view.args.classes="",t.body?(this.args.wrapper?this.args.wrapper.refresh(t.body):this.args.view.addRecord(t.body),this.args.view.args.creating="",i(c(f.prototype),"onResponse",this).call(this,t)):i(c(f.prototype),"onResponse",this).call(this,t)}}])&&o(r.prototype,n),s&&o(r,s),f}();e.CreateForm=s}()}),require.register("curvature/form/multiField/FormWrapper.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormWrapper=void 0;var t=r("../../base/Repository"),n=r("../../form/Form"),o=r("../../toast/Toast"),i=(r("../../toast/ToastAlert"),r("../../base/View")),a=r("../../base/Router");function u(t){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(y,i.View);var r,u,s,v=p(y);function y(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(o=v.call(this,e)).path=r,o.args.method=i,o.args.action=o.args.action||null,o.args.form=null,o.args.title=null,o.args.class="",o.template='\n\t\t\t<div class = "form constrict [[class]]">\n\t\t\t\t<div cv-if = "title"><label>[[title]]</label></div>\n\t\t\t\t[[form]]\n\t\t\t</div>\n\t\t',o._onLoad=[],o._onSubmit=[],o._onRender=[],o._onRequest=[],o._onError=[],o._onResponse=[],r instanceof n.Form?o.loadForm(form,a):t.Repository.request(r).then(function(t){t&&t.meta&&t.meta.form&&t.meta.form instanceof Object?(o.loadForm(new n.Form(t.meta.form,a)),o.onLoad(o.args.form,t.body)):console.log("Cannot render form with ",t)}),o}return r=y,(u=[{key:"loadForm",value:function(e){var r=this;this.args.form=e,this.args.form.onSubmit(function(e,n){if(!1!==r.onSubmit(e,n)){n&&(n.preventDefault(),n.stopPropagation());var o=e.tags.formTag.element,i=o.getAttribute("action")||r.args.action||r.path,u=o.getAttribute("method")||r.args.method,s=e.args.flatValue;if("GET"==(u=u.toUpperCase())){var l={};for(var f in r.args.content&&r.args.content.args&&(r.args.content.args.page=0),l.page=0,s)"api"!==f&&(l[f]=s[f]);r.onRequest(l).then(function(){r.onResponse({}),a.Router.go(i+"?"+a.Router.queryToString(l)),r.update(l)}).catch(function(t){r.onRequestError(t)})}else if("POST"==u){var p,v=e.formData(),y=c(v.entries());try{for(y.s();!(p=y.n()).done;)p.value}catch(t){y.e(t)}finally{y.f()}var d=r.onRequest(v);d&&d.then(function(){t.Repository.request(i,{api:"json"},v,!1,{progressDown:function(t){r.progressDown(t)},progressUp:function(t){r.progressUp(t)}}).then(function(t){r.onResponse(t)}).catch(function(t){r.onRequestError(t)})})}}})}},{key:"onRequest",value:function(t){var e=[];for(var r in this._onRequest){var n=this._onRequest[r](t,this);n&&e.push(n)}return 0==e.length?Promise.resolve():Promise.all(e)}},{key:"onRequestError",value:function(t){for(var e in this._onError)this._onError[e](t,this);if(t.messages)for(var r in t.messages)o.Toast.instance().alert(t.body&&t.body.id?"Success!":"Error!",t.messages[r],3500)}},{key:"onResponse",value:function(t){for(var e in this._onResponse)this._onResponse[e](t,this);if(t.messages)for(var r in t.messages)o.Toast.instance().alert(t.body&&t.body.id?"Success!":"Error!",t.messages[r],3500)}},{key:"onLoad",value:function(t,e){for(var r in this._onLoad)this._onLoad[r](this,t,e)}},{key:"onSubmit",value:function(t,e){for(var r in this._onSubmit)this._onSubmit[r](this,e)}},{key:"postRender",value:function(){for(var t in this._onRender)this._onRender[t](this.args.form)}},{key:"customFields",value:function(){return{}}},{key:"submit",value:function(){}},{key:"progressUp",value:function(t){console.log(t.loaded,t.total,t.loaded/t.total)}},{key:"progressDown",value:function(t){console.log(t.loaded,t.total,t.loaded/t.total)}}])&&l(r.prototype,u),s&&l(r,s),y}();e.FormWrapper=y}()}),require.register("curvature/form/multiField/SearchForm.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchForm=void 0;var t=r("../../base/Config"),n=r("./FormWrapper"),o=r("../../form/HiddenField"),i=r("../../base/Repository");function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=t.Config.get("backend")||"//",v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(y,n.FormWrapper);var e,r,a,v=l(y);function y(t,e){var r;arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(r=v.call(this,t,e,"POST",{search:o.HiddenField})).superTemplate=r.template,r.args.records=[],r.selected=null,r.template="\n\t\t\t".concat(r.superTemplate,'\n\t\t\t<div cv-each = "records:record:r" class = "dropdown-results">\n\t\t\t\t<div\n\t\t\t\t\tcv-on         = "click:select(event)"\n\t\t\t\t\tdata-index    = "[[r]]"\n\t\t\t\t\tdata-publicId = "[[record.publicId]]"\n\t\t\t\t\tclass         = "[[record.classes]]"\n\t\t\t\t>\n\t\t\t\t\t[[record.title]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),r}return e=y,(r=[{key:"onLoad",value:function(t){var e=this;for(var r in t.args.fields)if(t.args.fields[r].tags.input&&"hidden"!=t.args.fields[r].args.attrs.type){t.args.fields[r].tags.input.element.focus();break}t.args.flatValue.bindTo("keyword",function(t){e.args.records=[],e.selected=null,t&&(console.log(e.path,t),i.Repository.request(p+e.path,{keyword:t}).then(function(r){console.log(r.body),r.body&&(e.args.records=r.body.map(function(r){return r.classes="",r.title==t&&(r.classes="selected",e.selected=r),r}))}))}),c(f(y.prototype),"onLoad",this).call(this,t)}},{key:"onRequest",value:function(){return c(f(y.prototype),"onRequest",this).call(this)}},{key:"onResponse",value:function(t){c(f(y.prototype),"onResponse",this).call(this,t)}},{key:"select",value:function(t){var e=t.target.getAttribute("data-index"),r=(t.target.getAttribute("data-publicId"),this.args.records[e]);console.log(r),this.args.view.addRecord(r),this.args.view.addButtonClicked()}},{key:"onSubmit",value:function(t,e){return e.preventDefault(),e.stopPropagation(),this.selected&&(this.args.view.addRecord(this.selected),this.args.view.addButtonClicked()),!1}}])&&u(e.prototype,r),a&&u(e,a),y}();e.SearchForm=v}()}),require.register("curvature/form/multiField/View.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var t=r("../../base/Config"),n=r("../../form/Form"),o=r("../../form/FieldSet"),i=r("./CreateForm"),a=r("./SearchForm"),u=(r("./FormWrapper"),r("./Wrapper"));function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;return p(t)}(this,r)}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,o.FieldSet);var r,v,y,d=f(h);function h(t,e,r,n){var o;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(o=d.call(this,t,e,r,n)).args._fields=[],o.dragging=!1,o.dropping=!1,o.args.fields)o.args._fields[i]=o.wrapSubfield(o.args.fields[i]);return o.args.fields[-1].disable(),o.args.creating="",o.args.fieldType="",o.args.createForm=o.args.createForm||"",o.args.searchForm=o.args.searchForm||"",o.args.createFormReady=!1,o.setCreateForm({view:p(o)}),o.args.loader="...",o.args.addIcon="&#215;",o.args.addIcon="a",o.args.addIcon="+",o.args.draggable="true",o.template='\n\t\t\t<label\n\t\t\t\tfor        = "'.concat(o.args.name,'"\n\t\t\t\tdata-type  = "').concat(o.args.attrs.type,'"\n\t\t\t\tdata-multi = "').concat(o.args.attrs["data-multi"]?"true":"false",'"\n\t\t\t>\n\t\t\t\t<span cv-if = "title">\n\t\t\t\t\t<span cv-ref = "title:curvature/base/Tag">[[title]]</span>\n\t\t\t\t</span>\n\n\t\t\t\t<fieldset\n\t\t\t\t\tname  = "').concat(o.args.name,'"\n\t\t\t\t\tclass = "multi-field [[creating]] [[fieldType]]"\n\t\t\t\t>\n\n\t\t\t\t\t<div class = "record-list" cv-each = "_fields:field:f">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass     = "single-record"\n\t\t\t\t\t\t\tdata-for  = "[[f]]"\n\t\t\t\t\t\t>[[field]]</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class = "overlay create">\n\t\t\t\t\t\t<div class = "form constrict">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tcv-on = "click:addButtonClicked(event)"\n\t\t\t\t\t\t\t\tclass = "bubble bottom left-margin close"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t&#215;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t[[createForm]]\n\t\t\t\t\t\t[[searchForm]]\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class = "overlay loading">\n\t\t\t\t\t\t[[loader]]\n\t\t\t\t\t</div>\n\t\t\t\t\t<div cv-if = "createFormReady" class="add-button-holder">\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcv-on = "click:addButtonClicked(event)"\n\t\t\t\t\t\t\tclass = "bubble bottom left-margin add"\n\t\t\t\t\t\t\ttab-index = "0"\n\t\t\t\t\t\t>[[addIcon]]</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</fieldset>\n\n\t\t\t\t<span cv-each = "errors:error:e">\n\t\t\t\t\t<p class = "cv-error">[[error]]</p>\n\t\t\t\t</span>\n\n\t\t\t</label>\n\t\t'),o}return r=h,(v=[{key:"setCreateForm",value:function(e){var r=this,n="";t.Config.get("backend")&&(n=t.Config.get("backend")),!1!==this.args.attrs["data-create-endpoint"]?(this.args.createForm=new i.CreateForm(Object.assign({},e),this.args.attrs["data-create-endpoint"]?n+this.args.attrs["data-create-endpoint"]:e.publicId?n+"".concat(this.args.attrs["data-endpoint"],"/").concat(e.publicId,"/edit"):n+"".concat(this.args.attrs["data-endpoint"],"/create")),this.args.createForm._onLoad.push(function(t,e){r.args.createFormReady=!0})):this.args.createFormReady=!0,console.log(this.args.createFormReady),this.args.searchForm=new a.SearchForm(Object.assign({},e),n+this.args.attrs["data-endpoint"])}},{key:"wrapSubfield",value:function(t){return new u.Wrapper({field:t,parent:this})}},{key:"addButtonClicked",value:function(){this.args.creating||(this.args.creating="creating")}},{key:"addRecord",value:function(t){for(var e in this.args.creating="",Array.isArray(t)||(t=[t]),t){this.args.fields[-1].constructor;var r,o=Object.assign({},this.args.fields[-1].skeleton),i=Object.values(this.args.fields).length-1;o=this.cloneSkeleton(o),(o=this.correctNames(o,i)).attrs=null!==(r=o.attrs)&&void 0!==r?r:{},o.attrs["data-array"]=!0;var a={};a[i]=o;var u=n.Form.renderFields(a,this)[i];this.args.fields[i]=u;var c=this.wrapSubfield(u);u.args.value.id=t[e].id||"",u.args.value.class=t[e].class||"",u.args.value.title=t[e].title||"",u.args.value.key=this.args._fields.length,this.args._fields.push(c),c.refresh(t[e])}}},{key:"editRecord",value:function(t,e){this.setCreateForm({view:this,publicId:t.publicId,wrapper:e}),this.args.creating=this.args.creating?"":"creating"}},{key:"deleteImage",value:function(t){console.log(t,this.args.fields),this.args.fields[t].disable(),this.args._fields[t].args.classes="deleted"}},{key:"undeleteImage",value:function(t){this.args.fields[t].enable(),this.args._fields[t].args.classes=""}},{key:"cloneSkeleton",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={};for(var n in Array.isArray(t)&&(r=[]),t)"fields"!=n&&(t[n]&&"object"===c(t[n])?r[n]=Object.assign({},this.cloneSkeleton(t[n],e+1)):r[n]=t[n]);return r}},{key:"correctNames",value:function(t,e){if(t.name=t.name.replace(/\[-1\]/,"[".concat(e,"]")),t.attrs.name=t.name,"children"in t)for(var r in t.children)t.children[r]=this.correctNames(t.children[r],e);return t}},{key:"drag",value:function(t){this.dragging=t.target}},{key:"dragOver",value:function(t){if(!this.dragging)return!1;for(var e=t.target;e&&!e.matches('[draggable="true"]');)e=e.parentNode;e&&(this.dropping=e,t.preventDefault())}},{key:"drop",value:function(t){t.stopPropagation();var e=this.dragging.querySelector("label"),r=this.dropping.querySelector("label"),n=e.getAttribute("for"),o=r.getAttribute("for"),i=this.extractIndex(n),a=this.extractIndex(o);if(i==a||i==a-1)return this.dragging=!1,void(this.dropping=!1);var u,c,s=e.querySelectorAll('[name^="'+n+'"]'),l=e.querySelectorAll('[for^="'+n+'"]'),f=r.querySelectorAll('[name^="'+o+'"]'),p=r.querySelectorAll('[for^="'+o+'"]'),v=this.dropping,y=0;for(var d in this.args.fields){var h=this.args.fields[d].tags.input.element,b=this.args.fields[d].tags.label.element,m=h.getAttribute("name");e==b&&(u=this.args.fields[d]),r==b&&(c=this.args.fields[d]);var g=this.extractIndex(m),w=!1;if(!(g<0)&&(i>a&&g>=a&&g<=i?(w=this.changeIndex(m,g+1),y=-1):i<a&&g<=a&&g>=i&&(w=this.changeIndex(m,g-1),y=0),!1!==w)){this.changeAttributePrefix(b,"for",m,w),this.args.fields[d].args.fieldName=w,this.changeAttributePrefix(h,"name",m,w);for(var _=h.parentNode.querySelectorAll('[name^="'+m+'"]'),O=0;O<_.length;O++)this.changeAttributePrefix(_[O],"name",m,w);for(var j=h.parentNode.querySelectorAll('[for^="'+m+'"]'),S=0;S<j.length;S++)this.changeAttributePrefix(j[S],"for",m,w)}}n=e.getAttribute("for"),o=r.getAttribute("for"),i=this.extractIndex(n),a=this.extractIndex(o),this.changeAttributePrefix(e,"for",n,this.changeIndex(n,a+y));for(var P=0;P<s.length;P++)this.changeAttributePrefix(s[P],"name",n,this.changeIndex(n,a+y));for(var k=0;k<l.length;k++)this.changeAttributePrefix(l[k],"for",n,this.changeIndex(n,a+y));u.args.fieldName=e.getAttribute("for"),this.changeAttributePrefix(r,"for",o,this.changeIndex(o,a+y+1));for(var R=0;R<f.length;R++)this.changeAttributePrefix(f[R],"name",o,this.changeIndex(o,a+y+1));for(var T=0;T<p.length;T++)this.changeAttributePrefix(p[T],"for",o,this.changeIndex(o,a+y+1));c.args.fieldName=r.getAttribute("for"),this.dragging.parentNode.insertBefore(this.dragging,v),this.dragging=!1,this.dropping=!1}},{key:"dragStop",value:function(){this.dragging=!1,this.dropping=!1}},{key:"changeAttributePrefix",value:function(t,e,r,n){t.getAttribute(e);var o=n+t.getAttribute(e).substring(r.length);t.setAttribute(e,o)}},{key:"extractIndex",value:function(t){var e;return!!(e=/\[(-?\d+)\]$/.exec(t))&&parseInt(e[1])}},{key:"changeIndex",value:function(t,e){return t.replace(/\[(-?\d+)\]$/,"["+e+"]")}},{key:"cancel",value:function(t){t.stopPropagation()}}])&&s(r.prototype,v),y&&s(r,y),h}();e.View=y}()}),require.register("curvature/form/multiField/Wrapper.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=void 0;var t=r("../../base/Config"),n=r("../../base/View"),o=r("../../base/Repository");function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,n.View);var r,i,s,l=c(f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=l.call(this,t)).template='\n\t\t\t<div\n\t\t\t\tclass = "wrapped-field [[classes]]"\n\t\t\t\tcv-on = "click:editRecord(event, key)"\n\t\t\t\ttitle = "[[fieldName]]: [[id]]"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tcv-on = "click:deleteImage(event, key)"\n\t\t\t\t\tstyle = "display: inline; cursor:pointer;"\n\t\t\t\t>\n\t\t\t\t\t[[icon]]\n\t\t\t\t</div>\n\t\t\t\t<div class = "field-content">\n\t\t\t\t\t[[title]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style = "display:none">[[field]]</div>\n\t\t',e.args.field=e.args.field||"!",e.args.keyword="",e.args.title="",e.args.record={},e.args.key=e.args.field.key,e.args.classes="",e.args.icon="×",e.deleted=!1,e.args.field.args.bindTo("fieldName",function(t){e.args.fieldName=t}),e.args.fieldName=e.args.field.args.name,e.args.id=e.args.field.args.value.id,e.args.bindTo("id",function(t){e.args.field.args.value.id=t}),e.args.field.args.value.bindTo("id",function(t,r){t&&o.Repository.request(e.backendPath(),{id:t}).then(function(r){e.args.id=t;var n=r.body[0];if(!n)return e.args.publicId=null,void(e.args.title=null);e.refresh(n)})},{wait:0}),e.args.field.args.value.bindTo("keyword",function(t){e.args.keyword=t}),e}return r=f,(i=[{key:"editRecord",value:function(){this.args.parent.editRecord(this.args.record,this)}},{key:"deleteImage",value:function(t,e){t.stopPropagation(),this.deleted?(this.args.icon="×",this.args.parent.undeleteImage(e),this.deleted=!1):(this.args.icon="↺",this.args.parent.deleteImage(e),this.deleted=!0)}},{key:"backendPath",value:function(){return(t.Config.get("backend")||"//")+this.args.parent.args.attrs["data-endpoint"]}},{key:"getRecordTitle",value:function(t){return t._titleField?t[t._titleField]:t.title||t.publicId||t.id}},{key:"refresh",value:function(t){for(var e in t)this.args[e]=t[e];this.args.record=t,this.args.title=this.getRecordTitle(t)}}])&&a(r.prototype,i),s&&a(r,s),f}();e.Wrapper=l}()}),require.register("curvature/input/Keyboard.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;var t=r("../base/Bindable");function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}var i=function(){function e(){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxDecay=120,this.listening=!0,this.keys=t.Bindable.makeBindable({}),this.codes=t.Bindable.makeBindable({}),document.addEventListener("keyup",function(t){r.keys[t.key]=-1,r.codes[t.code]=-1}),document.addEventListener("keydown",function(t){r.keys[t.key]>0||(r.keys[t.key]=1,r.codes[t.code]=1)}),window.addEventListener("blur",function(t){for(var e in r.keys)r.keys[e]=-1;for(var n in r.codes)r.codes[n]=-1})}return o(e,null,[{key:"get",value:function(){return this.instance=this.instance||new this}}]),o(e,[{key:"getKey",value:function(t){return this.keys[t]?this.keys[t]:0}},{key:"getKeyCode",value:function(t){return this.codes[t]?this.codes[t]:0}},{key:"update",value:function(){for(var t in this.keys)this.keys[t]>0?this.keys[t]++:(this.keys[t]--,this.keys[t]<-this.maxDecay&&delete this.keys[t]);for(var t in this.codes)this.codes[t]>0?this.codes[t]++:(this.codes[t]--,this.codes[t]<-this.maxDecay&&delete this.keys[t])}}]),e}();e.Keyboard=i}()}),require.register("curvature/mixin/PromiseMixin.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseMixin=void 0;var t,n=r("../base/Mixin");r("../base/Bindable");function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=Symbol("Promise"),a=Symbol("Accept"),u=Symbol("Reject"),c=(o(t={Promise:i,Accept:a,Reject:u},n.Mixin.Constructor,function(){var t=this;this[i]=new Promise(function(e,r){t[a]=e,t[u]=r})}),o(t,"then",function(t){return this[i].then(t)}),o(t,"catch",function(t){return this[i].catch(t)}),o(t,"finally",function(t){return this[i].finally(t)}),t);e.PromiseMixin=c}()}),require.register("curvature/model/Database.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Database=void 0;var t=r("../base/Bindable");function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=Symbol("PrimaryKey"),u=Symbol("Connection"),c=Symbol("Instances"),s=Symbol("Target"),l=Symbol("Store"),f=Symbol("Each"),p=Symbol("Name"),v=Symbol("Bank"),y=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,u,{value:t}),Object.defineProperty(this,v,{value:{}})}var r,o,s;return r=e,s=[{key:"open",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[c][t]?Promise.resolve(this[c][t]):new Promise(function(o,i){var a=indexedDB.open(t,n);a.onerror=function(t){e.dispatchEvent(new CustomEvent("readError",{detail:{database:r[p],error:t,store:storeName,type:"read",subType:"select"}})),i(t)},a.onsuccess=function(e){var n=new r(e.target.result);n[p]=t,r[c][t]=n,o(n)},a.onupgradeneeded=function(e){var i=e.target.result;i.addEventListener("error",function(t){console.error(t)});for(var a=e.oldVersion+1;a<=n;a++)r["_version_"+a](i);var u=new r(i);u[p]=t,r[c][t]=u,o(u)}})}},{key:"getPrimaryKey",value:function(t){return t[a]?t[a].description:null}},{key:"destroyDatabase",value:function(){var t=this;return new Promise(function(r,n){var o=indexedDB.delete(dbName);o.onerror=function(t){e.dispatchEvent(new CustomEvent("destroyError",{detail:{database:dbName,error:t,type:"destroy"}})),n(t)},o.onsuccess=function(e){delete t[c][dbName],r(dbName)}})}}],(o=[{key:"select",value:function(t){var e=this,r=t.store,n=t.index,o=t.range,i=void 0===o?null:o,a=t.direction,c=void 0===a?"next":a,s=t.limit,l=void 0===s?0:s,p=t.offset,v=void 0===p?0:p,y=t.type,d=void 0!==y&&y,h=this[u].transaction(r,"readonly").objectStore(r),b=n?h.index(n):h;return{each:this[f](d,b,c,i,l,v),one:this[f](d,b,c,i,1,v),then:function(t){return e[f](d,b,c,i,l,v)(function(t){return t}).then(t)}}}},{key:"insert",value:function(r,n){var o=this;return new Promise(function(i,c){o[v][r]=o[v][r]||new WeakMap;var s=o[u].transaction([r],"readwrite"),f=s.objectStore(r),y=o[v][r];n=t.Bindable.make(n);var d=f.add(Object.assign({},n));d.onerror=function(t){e.dispatchEvent(new CustomEvent("writeError",{detail:{database:o[p],record:n,store:r,type:"write",subType:"insert"}})),c(t)},d.onsuccess=function(t){var u=t.target.result;y[u]=n,n[a]=Symbol.for(u),n[l]=r,e.dispatchEvent(new CustomEvent("write",{detail:{database:o[p],key:e.getPrimaryKey(n),store:r,type:"write",subType:"insert"}})),s.commit(),i(n)}})}},{key:"update",value:function(t,r){var n=this;if(!r[a])throw Error("Value provided is not a DB record!");return new Promise(function(o,i){var a=n[u].transaction([t],"readwrite"),c=a.objectStore(t).put(Object.assign({},r));c.onerror=function(o){e.dispatchEvent(new CustomEvent("writeError",{detail:{database:n[p],key:e.getPrimaryKey(r),store:t,type:"write",subType:"update"}})),i(o)},c.onsuccess=function(i){e.dispatchEvent(new CustomEvent("write",{detail:{database:n[p],key:e.getPrimaryKey(r),store:t,type:"write",subType:"update"}})),a.commit(),o(i)}})}},{key:"delete",value:function(t,r){var n=this;if(!r[a])throw Error("Value provided is not a DB record!");return new Promise(function(o,i){var c=n[u].transaction([t],"readwrite"),s=c.objectStore(t).delete(Number(r[a].description));s.onerror=function(o){var a=new CustomEvent("writeError",{detail:{database:n[p],original:event,key:e.getPrimaryKey(r),store:t,type:"write",subType:"delete"}});e.dispatchEvent(a),i(o)},s.onsuccess=function(i){var a=new CustomEvent("write",{detail:{database:n[p],original:i,key:e.getPrimaryKey(r),store:t,type:"write",subType:"delete"}});e.dispatchEvent(a),c.commit(),o(a)}})}},{key:"listStores",value:function(){return n(this[u].objectStoreNames)}},{key:"listIndexes",value:function(t){return n(this[u].transaction([t]).objectStore(t).indexNames)}},{key:f,value:function(r,n,o,i,u,c){var s=this;return function(f){return new Promise(function(y,d){var h=0;n.openCursor(i,o).addEventListener("success",function(o){var i=o.target.result;if(!i)return y({record:null,result:null,index:h});if(c>h++)return i.continue();var d=i.source,b=d.objectStore?d.objectStore.name:n.name;s[v][b]=s[v][b]||new WeakMap;var m=s[v][b],g=i.primaryKey,w=r?r.from(i.value):i.value;m[g]?Object.assign(m[g],w):(w[a]=Symbol.for(g),w[l]=b,m[g]=t.Bindable.makeBindable(w)),e.dispatchEvent(new CustomEvent("read",{detail:{database:s[p],record:w,store:b,type:"read",subType:"select"}}));var _=f?f(m[g],h):m[g];if(u&&h-c>=u)return c+=u,y({record:m[g],result:_,index:h});i.continue()})})}}}])&&i(r.prototype,o),s&&i(r,s),e}();e.Database=y,Object.defineProperty(y,c,{value:[]}),Object.defineProperty(y,s,{value:new EventTarget});var d=function(t){Object.defineProperty(y,t,{value:function(){var e;return(e=y[s])[t].apply(e,arguments)}})};for(var h in y[s])d(h)}()}),require.register("curvature/model/Model.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var t=r("../base/Cache"),n=r("../base/Bindable");function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}var s=Symbol("Changed"),l=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,s,{value:n.Bindable.make({})})}return c(e,null,[{key:"keyProps",value:function(){return["id","class"]}}]),c(e,[{key:"consume",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.__proto__.constructor.keyProps(),i=function(e,n){if(n&&"object"===a(n)&&n.__proto__.constructor.keyProps){var o=n.__proto__.constructor.keyProps().map(function(t){return n[t]}).join("::"),i=t.Cache.load(o,!1,"models-by-type-and-publicId");i&&(i.consume(n),n=i)}r[e]=n};for(var u in e)!n&&this[s][u]||o.includes(u)||i(u,e[u])}},{key:"stored",value:function(){for(var t in this[s])this[s][t]=!1}}],[{key:"from",value:function(e){var r,i=this.keyProps(),u=i.map(function(t){return e[t]}).join("::"),c="models-by-type-and-publicId",l=t.Cache.load(u,!1,c),f=l||n.Bindable.makeBindable(new this),p=o(i);try{for(p.s();!(r=p.n()).done;){var v,y,d=r.value;f[d]=null!==(v=null!==(y=f[d])&&void 0!==y?y:e[d])&&void 0!==v?v:null}}catch(t){p.e(t)}finally{p.f()}if(f.consume(e),t.Cache.store(u,f,0,c),!l){var h=!1;f.bindTo(function(t,e,r){"symbol"!==a(e)&&t!==r[e]&&(f[s][e]=h)}),h=!0}return f}}]),e}();e.Model=l}()}),require.register("curvature/toast/Toast.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toast=void 0;var t=r("../base/View"),n=r("../base/Bindable"),o=r("./ToastAlert");function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,t.View);var r=s(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this)).template='\n\t\t\t<div id = "[[_id]]" cv-each = "alerts:alert" class = "toast">\n\t\t\t\t[[alert]]\n\t\t\t</div>\n\t\t',t.args.alerts=[],t}return u(i,null,[{key:"instance",value:function(){return this.inst||(this.inst=new this),this.inst}}]),u(i,[{key:"pop",value:function(t){var e=this;this.args.alerts.length;this.args.alerts.push(t),t.decay(function(t){return function(){for(var r in e.args.alerts)if(n.Bindable.ref(e.args.alerts[r])===n.Bindable.ref(t))return t.remove(),void delete e.args.alerts[r]}}(t))}},{key:"alert",value:function(t,e,r){return this.pop(new o.ToastAlert({title:t,body:e,time:r}))}}]),i}();e.Toast=f}()}),require.register("curvature/toast/ToastAlert.js",function(e,r,n){r=t(r,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToastAlert=void 0;var t=r("../base/View");function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var r,o=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t.View);var r,n,u,c=a(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=c.call(this,t)).args.running=!1,e.args.time=e.args.time||16e3,e.init=e.args.time,e.args.title=e.args.title||"Standard alert",e.args.status="new",e.args.body=e.args.body||"This is a standard alert.",e.template='\n\t\t\t<div id = "[[_id]]" class = "alert toast-[[status]]">\n\t\t\t\t<h3>[[title]]</h3>\n\t\t\t\t<p>[[body]]</p>\n\t\t\t</div>\n\t\t',e}return r=s,(n=[{key:"decay",value:function(t){var e=this;this.args.running=!0,this.onTimeout(50,function(){e.args.status=""}),this.onTimeout(300,function(){e.args.status="decaying"}),this.onTimeout(2400,function(){e.args.status="imminent"}),this.onTimeout(3500,function(){e.remove()})}}])&&o(r.prototype,n),u&&o(r,u),s}();e.ToastAlert=c}()}),require.alias("buffer/index.js","buffer"),require.alias("process/browser.js","process"),require("process"),require.register("___globals___",function(t,e,r){})}(),require("___globals___");
