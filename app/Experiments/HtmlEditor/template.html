<h2>html editor</h2>

<div class = "html-editor">

	<div class = "preview">
		<div class = "tag">live preview</div>
		<div class = "html-editor-live editable">
			[[vv]]
		</div>
	</div>

	<div class = "editor">

		<div class = "text-editor">
			<div class = "tag">text editor</div>
			<textarea
				spellcheck = "false"
				class   = "editable"
				cv-on   = "blur(event)"
				cv-bind = "source"
				cv-ref  = "source"
				rows    = "16"
			></textarea>
		</div>


		<div class = "html editor">
			<div class = "tag">html editor</div>
			<div class = "selections" cv-each = "selections:selection:s">
				<div style = "
					position: absolute;
					left: [[selection.left]]px;
					top: [[selection.top]]px;
					width: [[selection.width]]px;
					height: [[selection.height]]px;
					background-color: rgba(255,0,0,0.25);
					pointer-events: none;
				"></div>
			</div>
			<div
				class   = "editable"
				cv-on   = "blur(event);click(event)"
				cv-bind = "$source"
				cv-ref  = "html"
				contenteditable = "true"
			></div>
		</div>

		<div class = "properties" cv-if = "selected">
			<div class = "tag">attribute editor</div>
			<h3>Tag Name</h3>
			[[tagName]]<br />
			<h3>Attributes</h3>
			<ul>
				<span class = "contents" cv-each = "attributes:attribute:a">
					<li>
						[[attribute.name]]: <input cv-bind = "attribute.value">
						<button class = "tight" cv-on = "click:removeAttr(attribute)">✘</button>
					</li>
				</span>
				<li>
					<span cv-if = "!adding">
						<button class = "tight" cv-on = "click:newAttribute()">+</button>
					</span>
					<span cv-if = "adding">
						<input cv-bind = "newAttrName" placeholder="new attribute name...">
						<input cv-bind = "newAttrValue" placeholder="new attribute name...">
						<button cv-on = "click:addAttribute()">✔</button>
					</span>
				</li>
			</ul>
		</div>

		<div class = "json-editor">
			<div class = "tag">json editor</div>
			<div class = "holder">
				<form cv-on = "submit:loadJson(event)">
					<input type = "submit" value = "load" />
					<input type = "text" cv-bind = "jsonUrl" />
				</form>
				[[jsonEdit]]
			</div>
		</div>

	</div>



</div>
