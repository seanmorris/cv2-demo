<div class="models-demo">

	<h2>models</h2>

	<p>Models are simple objects, with some light tooling to make them simple to populate. They will also use the <b>class</b> and <b>id</b> properties to ensure that each model only gets a single reference. If you load the same model multiple times, the input fields should remain synced.</p>

	<textarea cv-ref = "txt">
function findSequence(goal) {
  function find(start, history) {
    if (start == goal)
      return history;
    else if (start > goal)
      return null;
    else
      return find(start + 5, "(" + history + " + 5)") ||
             find(start * 3, "(" + history + " * 3)");
  }
  return find(1, "1");
}</textarea>

	<div class = "row wrap">

		<div class = "model-editor model-loader">

			<div class = "model-editor-title">
				<span class = "title">Model Loader</span>
				<span class = "buttons">✕</span>
			</div>
			
			<div class = "model-editor-eyebrow">Load an instance of a record with the given ID and type. If no record is found, one will be created.</div>

<pre>model = Model.from({
<div class = "property-edit"><span>  id: </span><input cv-bind = "newId" />,</div>
<div class = "property-edit"><span>  class: </span><input cv-bind = "newClass" />,</div>});</pre>			
			<div class = "buttons">
				<button cv-on = "click:loadModel">load</button>
			</div>
		
		</div>
		<div cv-each = "models:model:m" cv-ref = "models" class = "contents">
			<div class = "model-editor">
				
				<div class = "model-editor-title">
					<span class = "title">Model Editor</span>
					<span class = "buttons">
						<span tabindex="-1" cv-on = "click:closeModel(event, m)">✕</span>
					</span>
				</div>

				<div class = "model-editor-eyebrow">When you modify the properties below, the in-memory values will be updated as you type.</div>

<pre><span class = "firstline row">model = { <img src = "/save.svg" data-icon tabindex="-1"></span>
<div cv-each = "model:value:property"><div class = "property-edit"><span class = "prop-remove remove-[[property]]" cv-on = "click:removeKey(property, m);">  ✕ </span> [[property]]: <input data-property = "[[property]]" cv-bind = "value" cv-on = "cvDomAttached:fieldAttached(event)" />,
</div></div>};</pre>

				<div class = "model-editor-eyebrow">Add a new key:</div>

				<div class = "new-property">
					<form class = "contents" cv-on = "submit:addKey(event, newField, m)">
						<input cv-bind = "newField" placeholder="new property">
						<button cv-on = "click:addKey(event, newField, m)" class = "tight">+</button>
					</form>
				</div>
			</div>
		</div>

	</div>

	<h3>databases & stores</h3>

	<div class = "databases">

		<div class = "database-editor">
			<div class = "model-editor-title">
				Databases Explorer
			</div>
			<div class = "model-editor-eyebrow">
				something
			</div>
		</div>

	</div>

	<h3>record sets</h3>

</div>
